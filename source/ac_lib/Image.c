#include "ac_lib/Image.h"

int f[10 * CAMERA_H]; //check connectivity

//white pieces properties
typedef struct
{
	uint8_t left;	//left limit
	uint8_t right;   //right limit
	int connect_num; //a mark of connectivity
} range;

//all white pieces
typedef struct
{
	uint8_t num;			   //num of white pieces
	range area[white_num_MAX]; //the connectivity of each pieces
} all_range;

//lane piece properity
typedef struct
{
	uint8_t left;  //��߽�?
	uint8_t right; //�ұ߽�
	uint8_t width; //����
} road_range;

//lane properity
typedef struct
{
	uint8_t white_num;
	road_range connected[white_num_MAX];
} road;

all_range white_range[CAMERA_H]; //���а�����
road my_road[CAMERA_H];			 //����
int all_connect_num = 0;		 //���а�������
uint8_t top_road;				 //������ߴ���������?
uint8_t image_Proc[CAMERA_H][CAMERA_W];

int whitenum[CAMERA_H];
/***Some Modification***/
typedef struct LanePiece_t
{
	int left;
	int right;
	int mid;
} LanePiece;

uint8_t threshold = 155; //for Binarization
//CvScalar col_white, col_black, col_blue, col_red, col_green, col_gray, col_purple;
uint8_t left_line[CAMERA_H], right_line[CAMERA_H], mid_line[CAMERA_H];				//left , right and mid line
//LanePiece LaneLastLoc;
//////////////
uint8_t left_smooth[CAMERA_H], right_smooth[CAMERA_H];
//////////////
int view_far = 0;
int view_Deviation = 0;

//some Statistics value
int Count_White_Overall;
int Count_White_UpLeft;
int Count_White_UpRight;
int Count_White_DownLeft;
int Count_White_DownRight;
int Count_White_3x3[3][3];

//mid line fix :for cross
int l_limit_x, l_limit_y, r_limit_x, r_limit_y;
float k_midline;		  //the midline k ,here we use x/y for rendering reason
float k_midline_last = 0; //the midline k ,here we use x/y for rendering reason
int true_end_y;			  //the end point y cord of (valid) auto generated mid

//flag
int isCross = 0;

int Zebra_Crossing_Wide;
int zebra_crossing_height;
////////////////////
MOOD mood;
uint8_t x_left[120], x_right[120];
uint8_t my_road_num[120];
uint8_t last_mid_line[CAMERA_H];
uint8_t l_straight_flag = 0, r_straight_flag = 0;
uint8_t x_left_straight = 0, x_right_straight = 0;

uint8_t left_side[CAMERA_H] = { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,4,4,4,6,6,6,8,8,10,10,10,11,11,11,13,13,15,15,16,16,18,18,18,19,19,21,21,22,22,23,24,24,26,26,27,27,28,29,29,30,31,31,32,33,34,34,35,35,36,36,37,38,39,39,40,41,42,42,43,43,44,45,45,46,47,48,48,49,50,51,51,52,52,53,54,54,55,56,56,57,58,58,59,60,60,61,62,62,63,64,64,65,66,67,67,68 };
uint8_t right_side[CAMERA_H] = { 187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,185,185,185,183,183,183,181,181,181,179,179,177,177,177,176,176,176,174,174,172,172,171,171,169,169,169,168,168,166,166,165,165,164,163,163,161,161,160,160,159,158,158,157,156,156,155,154,153,153,152,152,151,151,150,149,148,148,147,146,145,145,144,144,143,142,142,141,140,139,139,138,137,136,136,135,135,134,133,133,132,131,131,130,129,129,128,127,127,126,125,125,124,123,123,122,121,120,120,119 };
uint8_t i_fix[CAMERA_H] = { 0,0,0,1,1,1,1,2,2,2,3,3,3,3,4,4,4,5,5,5,5,6,6,6,7,7,7,8,8,8,9,9,10,10,10,11,11,11,12,12,13,13,14,14,15,15,15,16,16,17,17,18,18,19,20,20,21,21,22,22,23,24,24,25,26,26,27,28,29,29,30,31,32,32,33,34,35,36,37,38,39,40,41,42,43,44,45,47,48,49,50,52,53,55,56,58,59,61,62,64,66,68,70,72,74,76,78,81,83,86,88,91,94,97,100,104,107,111,115,119 };
uint8_t j_fix[CAMERA_H][CAMERA_W] = { {11,12,13,14,14, 15,16,17,18,19,20,21,22,22,23,24,25,26,27,28,29,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,44,45,46,47,48,49,50,51,52,52,53,54,55,56,57,58,59,60,60,61,62,63,64,65,66,67,67,68,69,70,71,72,73,74,75,75,76,77,78,79,80,81,82,82,83,84,85,86,87,88,89,90,90,91,92,93,94,95,96,97,97,98,99,100,101,102,103,104,105,105,106,107,108,109,110,111,112,112,113,114,115,116,117,118,119,120,120,121,122,123,124,125,126,127,127,128,129,130,131,132,133,134,135,135,136,137,138,139,140,141,142,143,143,144,145,146,147,148,149,150,150,151,152,153,154,155,156,157,158,158,159,160,161,162,163,164,165,165,166,167,168,169,170,171,172,173,173,174,175,176},{11,12,13,14,14,15,16,17,18,19,20,21,22,22,23,24,25,26,27,28,29,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,44,45,46,47,48,49,50,51,52,52,53,54,55,56,57,58,59,60,60,61,62,63,64,65,66,67,67,68,69,70,71,72,73,74,75,75,76,77,78,79,80,81,82,82,83,84,85,86,87,88,89,90,90,91,92,93,94,95,96,97,97,98,99,100,101,102,103,104,105,105,106,107,108,109,110,111,112,112,113,114,115,116,117,118,119,120,120,121,122,123,124,125,126,127,127,128,129,130,131,132,133,134,135,135,136,137,138,139,140,141,142,143,143,144,145,146,147,148,149,150,150,151,152,153,154,155,156,157,158,158,159,160,161,162,163,164,165,165,166,167,168,169,170,171,172,173,173,174,175,176},{11,12,13,14,14,15,16,17,18,19,20,21,22,22,23,24,25,26,27,28,29,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,44,45,46,47,48,49,50,51,52,52,53,54,55,56,57,58,59,60,60,61,62,63,64,65,66,67,67,68,69,70,71,72,73,74,75,75,76,77,78,79,80,81,82,82,83,84,85,86,87,88,89,90,90,91,92,93,94,95,96,97,97,98,99,100,101,102,103,104,105,105,106,107,108,109,110,111,112,112,113,114,115,116,117,118,119,120,120,121,122,123,124,125,126,127,127,128,129,130,131,132,133,134,135,135,136,137,138,139,140,141,142,143,143,144,145,146,147,148,149,150,150,151,152,153,154,155,156,157,158,158,159,160,161,162,163,164,165,165,166,167,168,169,170,171,172,173,173,174,175,176},{9,10,11,11,12,13,14,15,16,17,18,19,20,20,21,22,23,24,25,26,27,28,29,30,30,31,32,33,34,35,36,37,38,39,40,40,41,42,43,44,45,46,47,48,49,50,50,51,52,53,54,55,56,57,58,59,59,60,61,62,63,64,65,66,67,68,69,69,70,71,72,73,74,75,76,77,78,79,79,80,81,82,83,84,85,86,87,88,89,89,90,91,92,93,94,95,96,97,98,98,99,100,101,102,103,104,105,106,107,108,108,109,110,111,112,113,114,115,116,117,118,118,119,120,121,122,123,124,125,126,127,128,128,129,130,131,132,133,134,135,136,137,137,138,139,140,141,142,143,144,145,146,147,147,148,149,150,151,152,153,154,155,156,157,157,158,159,160,161,162,163,164,165,166,167,167,168,169,170,171,172,173,174,175,176,176,177,178},{9,10,11,11,12,13,14,15,16,17,18,19,20,20,21,22,23,24,25,26,27,28,29,30,30,31,32,33,34,35,36,37,38,39,40,40,41,42,43,44,45,46,47,48,49,50,50,51,52,53,54,55,56,57,58,59,59,60,61,62,63,64,65,66,67,68,69,69,70,71,72,73,74,75,76,77,78,79,79,80,81,82,83,84,85,86,87,88,89,89,90,91,92,93,94,95,96,97,98,98,99,100,101,102,103,104,105,106,107,108,108,109,110,111,112,113,114,115,116,117,118,118,119,120,121,122,123,124,125,126,127,128,128,129,130,131,132,133,134,135,136,137,137,138,139,140,141,142,143,144,145,146,147,147,148,149,150,151,152,153,154,155,156,157,157,158,159,160,161,162,163,164,165,166,167,167,168,169,170,171,172,173,174,175,176,176,177,178},{9,10,11,11,12,13,14,15,16,17,18,19,20,20,21,22,23,24,25,26,27,28,29,30,30,31,32,33,34,35,36,37,38,39,40,40,41,42,43,44,45,46,47,48,49,50,50,51,52,53,54,55,56,57,58,59,59,60,61,62,63,64,65,66,67,68,69,69,70,71,72,73,74,75,76,77,78,79,79,80,81,82,83,84,85,86,87,88,89,89,90,91,92,93,94,95,96,97,98,98,99,100,101,102,103,104,105,106,107,108,108,109,110,111,112,113,114,115,116,117,118,118,119,120,121,122,123,124,125,126,127,128,128,129,130,131,132,133,134,135,136,137,137,138,139,140,141,142,143,144,145,146,147,147,148,149,150,151,152,153,154,155,156,157,157,158,159,160,161,162,163,164,165,166,167,167,168,169,170,171,172,173,174,175,176,176,177,178},{9,10,11,11,12,13,14,15,16,17,18,19,20,20,21,22,23,24,25,26,27,28,29,30,30,31,32,33,34,35,36,37,38,39,40,40,41,42,43,44,45,46,47,48,49,50,50,51,52,53,54,55,56,57,58,59,59,60,61,62,63,64,65,66,67,68,69,69,70,71,72,73,74,75,76,77,78,79,79,80,81,82,83,84,85,86,87,88,89,89,90,91,92,93,94,95,96,97,98,98,99,100,101,102,103,104,105,106,107,108,108,109,110,111,112,113,114,115,116,117,118,118,119,120,121,122,123,124,125,126,127,128,128,129,130,131,132,133,134,135,136,137,137,138,139,140,141,142,143,144,145,146,147,147,148,149,150,151,152,153,154,155,156,157,157,158,159,160,161,162,163,164,165,166,167,167,168,169,170,171,172,173,174,175,176,176,177,178},{6,7,8,9,10,11,12,13,14,15,16,17,18,19,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,33,34,35,36,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,60,61,62,63,64,65,66,67,68,69,70,71,72,73,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,87,88,89,90,91,92,93,94,95,96,97,98,99,100,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,114,115,116,117,118,119,120,121,122,123,124,125,126,127,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,141,142,143,144,145,146,147,148,149,150,151,152,153,154,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,168,169,170,171,172,173,174,175,176,177,178,179,180,181},{6,7,8,9,10,11,12,13,14,15,16,17,18,19,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,33,34,35,36,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,60,61,62,63,64,65,66,67,68,69,70,71,72,73,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,87,88,89,90,91,92,93,94,95,96,97,98,99,100,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,114,115,116,117,118,119,120,121,122,123,124,125,126,127,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,141,142,143,144,145,146,147,148,149,150,151,152,153,154,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,168,169,170,171,172,173,174,175,176,177,178,179,180,181},{6,7,8,9,10,11,12,13,14,15,16,17,18,19,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,33,34,35,36,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,60,61,62,63,64,65,66,67,68,69,70,71,72,73,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,87,88,89,90,91,92,93,94,95,96,97,98,99,100,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,114,115,116,117,118,119,120,121,122,123,124,125,126,127,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,141,142,143,144,145,146,147,148,149,150,151,152,153,154,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,168,169,170,171,172,173,174,175,176,177,178,179,180,181},{4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183},{4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183},{4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183},{4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183},{2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185},{2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185},{2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185},{0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187},{0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187},{0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187},{0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187},{255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,255,255},{255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,255,255},{255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,255,255},{255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,255,255,255,255},{255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,255,255,255,255},{255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,255,255,255,255},{255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,20,21,22,23,24,25,26,27,28,30,31,32,33,34,35,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,58,59,60,61,62,63,64,65,66,67,68,69,70,71,73,74,75,76,77,78,79,80,81,82,83,84,85,87,88,89,90,91,92,93,94,95,96,97,98,99,100,102,103,104,105,106,107,108,109,110,111,112,113,114,116,117,118,119,120,121,122,123,124,125,126,127,128,129,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,147,148,149,150,151,152,153,154,155,156,157,159,160,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,255,255,255,255,255,255},{255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,20,21,22,23,24,25,26,27,28,30,31,32,33,34,35,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,58,59,60,61,62,63,64,65,66,67,68,69,70,71,73,74,75,76,77,78,79,80,81,82,83,84,85,87,88,89,90,91,92,93,94,95,96,97,98,99,100,102,103,104,105,106,107,108,109,110,111,112,113,114,116,117,118,119,120,121,122,123,124,125,126,127,128,129,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,147,148,149,150,151,152,153,154,155,156,157,159,160,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,255,255,255,255,255,255},{255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,20,21,22,23,24,25,26,27,28,30,31,32,33,34,35,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,58,59,60,61,62,63,64,65,66,67,68,69,70,71,73,74,75,76,77,78,79,80,81,82,83,84,85,87,88,89,90,91,92,93,94,95,96,97,98,99,100,102,103,104,105,106,107,108,109,110,111,112,113,114,116,117,118,119,120,121,122,123,124,125,126,127,128,129,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,147,148,149,150,151,152,153,154,155,156,157,159,160,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,11,12,13,14,15,16,17,18,19,20,22,23,24,25,26,27,28,29,30,31,33,34,35,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,55,56,57,58,59,60,61,62,63,64,65,67,68,69,70,71,72,73,74,75,76,78,79,80,81,82,83,84,85,86,87,89,90,91,92,93,94,95,96,97,98,100,101,102,103,104,105,106,107,108,109,111,112,113,114,115,116,117,118,119,120,122,123,124,125,126,127,128,129,130,131,132,134,135,136,137,138,139,140,141,142,143,145,146,147,148,149,150,151,152,153,154,156,157,158,159,160,161,162,163,164,165,167,168,169,170,171,172,173,174,175,176,178,179,180,181,182,183,184,185,186,187,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,11,12,13,14,15,16,17,18,19,20,22,23,24,25,26,27,28,29,30,31,33,34,35,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,55,56,57,58,59,60,61,62,63,64,65,67,68,69,70,71,72,73,74,75,76,78,79,80,81,82,83,84,85,86,87,89,90,91,92,93,94,95,96,97,98,100,101,102,103,104,105,106,107,108,109,111,112,113,114,115,116,117,118,119,120,122,123,124,125,126,127,128,129,130,131,132,134,135,136,137,138,139,140,141,142,143,145,146,147,148,149,150,151,152,153,154,156,157,158,159,160,161,162,163,164,165,167,168,169,170,171,172,173,174,175,176,178,179,180,181,182,183,184,185,186,187,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,7,8,9,10,11,12,13,14,15,17,18,19,20,21,22,23,24,26,27,28,29,30,31,32,33,35,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,53,54,55,56,57,58,59,60,62,63,64,65,66,67,68,69,70,72,73,74,75,76,77,78,79,81,82,83,84,85,86,87,88,90,91,92,93,94,95,96,97,99,100,101,102,103,104,105,106,108,109,110,111,112,113,114,115,117,118,119,120,121,122,123,124,125,127,128,129,130,131,132,133,134,136,137,138,139,140,141,142,143,145,146,147,148,149,150,151,152,154,155,156,157,158,159,160,161,163,164,165,166,167,168,169,170,172,173,174,175,176,177,178,179,180,182,183,184,185,186,187,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,7,8,9,10,11,12,13,14,15,17,18,19,20,21,22,23,24,26,27,28,29,30,31,32,33,35,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,53,54,55,56,57,58,59,60,62,63,64,65,66,67,68,69,70,72,73,74,75,76,77,78,79,81,82,83,84,85,86,87,88,90,91,92,93,94,95,96,97,99,100,101,102,103,104,105,106,108,109,110,111,112,113,114,115,117,118,119,120,121,122,123,124,125,127,128,129,130,131,132,133,134,136,137,138,139,140,141,142,143,145,146,147,148,149,150,151,152,154,155,156,157,158,159,160,161,163,164,165,166,167,168,169,170,172,173,174,175,176,177,178,179,180,182,183,184,185,186,187,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,7,8,9,10,11,12,13,14,15,17,18,19,20,21,22,23,24,26,27,28,29,30,31,32,33,35,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,53,54,55,56,57,58,59,60,62,63,64,65,66,67,68,69,70,72,73,74,75,76,77,78,79,81,82,83,84,85,86,87,88,90,91,92,93,94,95,96,97,99,100,101,102,103,104,105,106,108,109,110,111,112,113,114,115,117,118,119,120,121,122,123,124,125,127,128,129,130,131,132,133,134,136,137,138,139,140,141,142,143,145,146,147,148,149,150,151,152,154,155,156,157,158,159,160,161,163,164,165,166,167,168,169,170,172,173,174,175,176,177,178,179,180,182,183,184,185,186,187,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,0,0,1,2,4,5,6,7,8,9,10,12,13,14,15,16,17,18,20,21,22,23,24,25,26,28,29,30,31,32,33,34,36,37,38,39,40,41,42,44,45,46,47,48,49,51,52,53,54,55,56,57,59,60,61,62,63,64,65,67,68,69,70,71,72,73,75,76,77,78,79,80,81,83,84,85,86,87,88,89,91,92,93,94,95,96,98,99,100,101,102,103,104,106,107,108,109,110,111,112,114,115,116,117,118,119,120,122,123,124,125,126,127,128,130,131,132,133,134,135,136,138,139,140,141,142,143,145,146,147,148,149,150,151,153,154,155,156,157,158,159,161,162,163,164,165,166,167,169,170,171,172,173,174,175,177,178,179,180,181,182,183,185,186,187,187,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,0,0,1,2,4,5,6,7,8,9,10,12,13,14,15,16,17,18,20,21,22,23,24,25,26,28,29,30,31,32,33,34,36,37,38,39,40,41,42,44,45,46,47,48,49,51,52,53,54,55,56,57,59,60,61,62,63,64,65,67,68,69,70,71,72,73,75,76,77,78,79,80,81,83,84,85,86,87,88,89,91,92,93,94,95,96,98,99,100,101,102,103,104,106,107,108,109,110,111,112,114,115,116,117,118,119,120,122,123,124,125,126,127,128,130,131,132,133,134,135,136,138,139,140,141,142,143,145,146,147,148,149,150,151,153,154,155,156,157,158,159,161,162,163,164,165,166,167,169,170,171,172,173,174,175,177,178,179,180,181,182,183,185,186,187,187,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,0,0,1,2,4,5,6,7,8,9,10,12,13,14,15,16,17,18,20,21,22,23,24,25,26,28,29,30,31,32,33,34,36,37,38,39,40,41,42,44,45,46,47,48,49,51,52,53,54,55,56,57,59,60,61,62,63,64,65,67,68,69,70,71,72,73,75,76,77,78,79,80,81,83,84,85,86,87,88,89,91,92,93,94,95,96,98,99,100,101,102,103,104,106,107,108,109,110,111,112,114,115,116,117,118,119,120,122,123,124,125,126,127,128,130,131,132,133,134,135,136,138,139,140,141,142,143,145,146,147,148,149,150,151,153,154,155,156,157,158,159,161,162,163,164,165,166,167,169,170,171,172,173,174,175,177,178,179,180,181,182,183,185,186,187,187,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,3,4,5,6,7,9,10,11,12,13,15,16,17,18,19,20,22,23,24,25,26,27,29,30,31,32,33,34,36,37,38,39,40,41,43,44,45,46,47,48,50,51,52,53,54,55,57,58,59,60,61,62,64,65,66,67,68,70,71,72,73,74,75,77,78,79,80,81,82,84,85,86,87,88,89,91,92,93,94,95,96,98,99,100,101,102,103,105,106,107,108,109,110,112,113,114,115,116,117,119,120,121,122,123,125,126,127,128,129,130,132,133,134,135,136,137,139,140,141,142,143,144,146,147,148,149,150,151,153,154,155,156,157,158,160,161,162,163,164,165,167,168,169,170,171,172,174,175,176,177,178,180,181,182,183,184,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,3,4,5,6,7,9,10,11,12,13,15,16,17,18,19,20,22,23,24,25,26,27,29,30,31,32,33,34,36,37,38,39,40,41,43,44,45,46,47,48,50,51,52,53,54,55,57,58,59,60,61,62,64,65,66,67,68,70,71,72,73,74,75,77,78,79,80,81,82,84,85,86,87,88,89,91,92,93,94,95,96,98,99,100,101,102,103,105,106,107,108,109,110,112,113,114,115,116,117,119,120,121,122,123,125,126,127,128,129,130,132,133,134,135,136,137,139,140,141,142,143,144,146,147,148,149,150,151,153,154,155,156,157,158,160,161,162,163,164,165,167,168,169,170,171,172,174,175,176,177,178,180,181,182,183,184,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,5,6,7,8,9,10,12,13,14,15,16,18,19,20,21,22,24,25,26,27,28,30,31,32,33,34,36,37,38,39,40,42,43,44,45,46,48,49,50,51,52,53,55,56,57,58,59,61,62,63,64,65,67,68,69,70,71,73,74,75,76,77,79,80,81,82,83,85,86,87,88,89,91,92,93,94,95,96,98,99,100,101,102,104,105,106,107,108,110,111,112,113,114,116,117,118,119,120,122,123,124,125,126,128,129,130,131,132,134,135,136,137,138,139,141,142,143,144,145,147,148,149,150,151,153,154,155,156,157,159,160,161,162,163,165,166,167,168,169,171,172,173,174,175,177,178,179,180,181,182,184,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,5,6,7,8,9,10,12,13,14,15,16,18,19,20,21,22,24,25,26,27,28,30,31,32,33,34,36,37,38,39,40,42,43,44,45,46,48,49,50,51,52,53,55,56,57,58,59,61,62,63,64,65,67,68,69,70,71,73,74,75,76,77,79,80,81,82,83,85,86,87,88,89,91,92,93,94,95,96,98,99,100,101,102,104,105,106,107,108,110,111,112,113,114,116,117,118,119,120,122,123,124,125,126,128,129,130,131,132,134,135,136,137,138,139,141,142,143,144,145,147,148,149,150,151,153,154,155,156,157,159,160,161,162,163,165,166,167,168,169,171,172,173,174,175,177,178,179,180,181,182,184,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,3,4,5,6,8,9,10,11,12,14,15,16,17,19,20,21,22,23,25,26,27,28,30,31,32,33,34,36,37,38,39,41,42,43,44,45,47,48,49,50,51,53,54,55,56,58,59,60,61,62,64,65,66,67,69,70,71,72,73,75,76,77,78,79,81,82,83,84,86,87,88,89,90,92,93,94,95,97,98,99,100,101,103,104,105,106,108,109,110,111,112,114,115,116,117,118,120,121,122,123,125,126,127,128,129,131,132,133,134,136,137,138,139,140,142,143,144,145,146,148,149,150,151,153,154,155,156,157,159,160,161,162,164,165,166,167,168,170,171,172,173,175,176,177,178,179,181,182,183,184,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,3,4,5,6,8,9,10,11,12,14,15,16,17,19,20,21,22,23,25,26,27,28,30,31,32,33,34,36,37,38,39,41,42,43,44,45,47,48,49,50,51,53,54,55,56,58,59,60,61,62,64,65,66,67,69,70,71,72,73,75,76,77,78,79,81,82,83,84,86,87,88,89,90,92,93,94,95,97,98,99,100,101,103,104,105,106,108,109,110,111,112,114,115,116,117,118,120,121,122,123,125,126,127,128,129,131,132,133,134,136,137,138,139,140,142,143,144,145,146,148,149,150,151,153,154,155,156,157,159,160,161,162,164,165,166,167,168,170,171,172,173,175,176,177,178,179,181,182,183,184,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,5,6,7,8,10,11,12,13,15,16,17,18,20,21,22,23,25,26,27,28,30,31,32,33,34,36,37,38,39,41,42,43,44,46,47,48,49,51,52,53,54,56,57,58,59,61,62,63,64,66,67,68,69,71,72,73,74,75,77,78,79,80,82,83,84,85,87,88,89,90,92,93,94,95,97,98,99,100,102,103,104,105,107,108,109,110,112,113,114,115,116,118,119,120,121,123,124,125,126,128,129,130,131,133,134,135,136,138,139,140,141,143,144,145,146,148,149,150,151,153,154,155,156,157,159,160,161,162,164,165,166,167,169,170,171,172,174,175,176,177,179,180,181,182,184,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,5,6,7,8,10,11,12,13,15,16,17,18,20,21,22,23,25,26,27,28,30,31,32,33,34,36,37,38,39,41,42,43,44,46,47,48,49,51,52,53,54,56,57,58,59,61,62,63,64,66,67,68,69,71,72,73,74,75,77,78,79,80,82,83,84,85,87,88,89,90,92,93,94,95,97,98,99,100,102,103,104,105,107,108,109,110,112,113,114,115,116,118,119,120,121,123,124,125,126,128,129,130,131,133,134,135,136,138,139,140,141,143,144,145,146,148,149,150,151,153,154,155,156,157,159,160,161,162,164,165,166,167,169,170,171,172,174,175,176,177,179,180,181,182,184,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,5,6,7,8,10,11,12,13,15,16,17,18,20,21,22,23,25,26,27,28,30,31,32,33,34,36,37,38,39,41,42,43,44,46,47,48,49,51,52,53,54,56,57,58,59,61,62,63,64,66,67,68,69,71,72,73,74,75,77,78,79,80,82,83,84,85,87,88,89,90,92,93,94,95,97,98,99,100,102,103,104,105,107,108,109,110,112,113,114,115,116,118,119,120,121,123,124,125,126,128,129,130,131,133,134,135,136,138,139,140,141,143,144,145,146,148,149,150,151,153,154,155,156,157,159,160,161,162,164,165,166,167,169,170,171,172,174,175,176,177,179,180,181,182,184,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,3,4,6,7,8,9,11,12,13,14,16,17,18,19,21,22,23,24,26,27,28,30,31,32,33,35,36,37,38,40,41,42,43,45,46,47,49,50,51,52,54,55,56,57,59,60,61,62,64,65,66,68,69,70,71,73,74,75,76,78,79,80,81,83,84,85,87,88,89,90,92,93,94,95,97,98,99,100,102,103,104,106,107,108,109,111,112,113,114,116,117,118,119,121,122,123,125,126,127,128,130,131,132,133,135,136,137,138,140,141,142,144,145,146,147,149,150,151,152,154,155,156,157,159,160,161,163,164,165,166,168,169,170,171,173,174,175,176,178,179,180,181,183,184,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,3,4,6,7,8,9,11,12,13,14,16,17,18,19,21,22,23,24,26,27,28,30,31,32,33,35,36,37,38,40,41,42,43,45,46,47,49,50,51,52,54,55,56,57,59,60,61,62,64,65,66,68,69,70,71,73,74,75,76,78,79,80,81,83,84,85,87,88,89,90,92,93,94,95,97,98,99,100,102,103,104,106,107,108,109,111,112,113,114,116,117,118,119,121,122,123,125,126,127,128,130,131,132,133,135,136,137,138,140,141,142,144,145,146,147,149,150,151,152,154,155,156,157,159,160,161,163,164,165,166,168,169,170,171,173,174,175,176,178,179,180,181,183,184,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,4,5,6,8,9,10,12,13,14,15,17,18,19,21,22,23,24,26,27,28,30,31,32,34,35,36,37,39,40,41,43,44,45,46,48,49,50,52,53,54,55,57,58,59,61,62,63,64,66,67,68,70,71,72,74,75,76,77,79,80,81,83,84,85,86,88,89,90,92,93,94,95,97,98,99,101,102,103,104,106,107,108,110,111,112,113,115,116,117,119,120,121,123,124,125,126,128,129,130,132,133,134,135,137,138,139,141,142,143,144,146,147,148,150,151,152,153,155,156,157,159,160,161,163,164,165,166,168,169,170,172,173,174,175,177,178,179,181,182,183,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,4,5,6,8,9,10,12,13,14,15,17,18,19,21,22,23,24,26,27,28,30,31,32,34,35,36,37,39,40,41,43,44,45,46,48,49,50,52,53,54,55,57,58,59,61,62,63,64,66,67,68,70,71,72,74,75,76,77,79,80,81,83,84,85,86,88,89,90,92,93,94,95,97,98,99,101,102,103,104,106,107,108,110,111,112,113,115,116,117,119,120,121,123,124,125,126,128,129,130,132,133,134,135,137,138,139,141,142,143,144,146,147,148,150,151,152,153,155,156,157,159,160,161,163,164,165,166,168,169,170,172,173,174,175,177,178,179,181,182,183,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,5,6,7,9,10,11,13,14,15,17,18,19,21,22,23,25,26,27,28,30,31,32,34,35,36,38,39,40,42,43,44,46,47,48,49,51,52,53,55,56,57,59,60,61,63,64,65,67,68,69,71,72,73,74,76,77,78,80,81,82,84,85,86,88,89,90,92,93,94,95,97,98,99,101,102,103,105,106,107,109,110,111,113,114,115,116,118,119,120,122,123,124,126,127,128,130,131,132,134,135,136,138,139,140,141,143,144,145,147,148,149,151,152,153,155,156,157,159,160,161,162,164,165,166,168,169,170,172,173,174,176,177,178,180,181,182,184,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,5,6,7,9,10,11,13,14,15,17,18,19,21,22,23,25,26,27,28,30,31,32,34,35,36,38,39,40,42,43,44,46,47,48,49,51,52,53,55,56,57,59,60,61,63,64,65,67,68,69,71,72,73,74,76,77,78,80,81,82,84,85,86,88,89,90,92,93,94,95,97,98,99,101,102,103,105,106,107,109,110,111,113,114,115,116,118,119,120,122,123,124,126,127,128,130,131,132,134,135,136,138,139,140,141,143,144,145,147,148,149,151,152,153,155,156,157,159,160,161,162,164,165,166,168,169,170,172,173,174,176,177,178,180,181,182,184,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,5,6,7,9,10,11,13,14,15,17,18,19,21,22,23,25,26,27,29,30,31,33,34,35,37,38,39,41,42,43,45,46,47,49,50,51,53,54,55,57,58,59,61,62,63,65,66,67,69,70,71,73,74,75,77,78,79,81,82,83,85,86,87,89,90,91,93,94,96,97,98,100,101,102,104,105,106,108,109,110,112,113,114,116,117,118,120,121,122,124,125,126,128,129,130,132,133,134,136,137,138,140,141,142,144,145,146,148,149,150,152,153,154,156,157,158,160,161,162,164,165,166,168,169,170,172,173,174,176,177,178,180,181,182,184,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,3,4,6,7,8,10,11,12,14,15,17,18,19,21,22,23,25,26,27,29,30,32,33,34,36,37,38,40,41,42,44,45,47,48,49,51,52,53,55,56,57,59,60,61,63,64,66,67,68,70,71,72,74,75,76,78,79,81,82,83,85,86,87,89,90,91,93,94,96,97,98,100,101,102,104,105,106,108,109,111,112,113,115,116,117,119,120,121,123,124,126,127,128,130,131,132,134,135,136,138,139,140,142,143,145,146,147,149,150,151,153,154,155,157,158,160,161,162,164,165,166,168,169,170,172,173,175,176,177,179,180,181,183,184,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,3,4,6,7,8,10,11,12,14,15,17,18,19,21,22,23,25,26,27,29,30,32,33,34,36,37,38,40,41,42,44,45,47,48,49,51,52,53,55,56,57,59,60,61,63,64,66,67,68,70,71,72,74,75,76,78,79,81,82,83,85,86,87,89,90,91,93,94,96,97,98,100,101,102,104,105,106,108,109,111,112,113,115,116,117,119,120,121,123,124,126,127,128,130,131,132,134,135,136,138,139,140,142,143,145,146,147,149,150,151,153,154,155,157,158,160,161,162,164,165,166,168,169,170,172,173,175,176,177,179,180,181,183,184,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,4,5,7,8,10,11,12,14,15,17,18,19,21,22,24,25,26,28,29,30,32,33,35,36,37,39,40,42,43,44,46,47,48,50,51,53,54,55,57,58,60,61,62,64,65,66,68,69,71,72,73,75,76,78,79,80,82,83,84,86,87,89,90,91,93,94,96,97,98,100,101,103,104,105,107,108,109,111,112,114,115,116,118,119,121,122,123,125,126,127,129,130,132,133,134,136,137,139,140,141,143,144,145,147,148,150,151,152,154,155,157,158,159,161,162,163,165,166,168,169,170,172,173,175,176,177,179,180,182,183,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,4,5,7,8,10,11,12,14,15,17,18,19,21,22,24,25,26,28,29,30,32,33,35,36,37,39,40,42,43,44,46,47,48,50,51,53,54,55,57,58,60,61,62,64,65,66,68,69,71,72,73,75,76,78,79,80,82,83,84,86,87,89,90,91,93,94,96,97,98,100,101,103,104,105,107,108,109,111,112,114,115,116,118,119,121,122,123,125,126,127,129,130,132,133,134,136,137,139,140,141,143,144,145,147,148,150,151,152,154,155,157,158,159,161,162,163,165,166,168,169,170,172,173,175,176,177,179,180,182,183,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,4,5,7,8,10,11,12,14,15,17,18,19,21,22,24,25,27,28,29,31,32,34,35,36,38,39,41,42,43,45,46,48,49,50,52,53,55,56,58,59,60,62,63,65,66,67,69,70,72,73,74,76,77,79,80,82,83,84,86,87,89,90,91,93,94,96,97,98,100,101,103,104,105,107,108,110,111,113,114,115,117,118,120,121,122,124,125,127,128,129,131,132,134,135,137,138,139,141,142,144,145,146,148,149,151,152,153,155,156,158,159,160,162,163,165,166,168,169,170,172,173,175,176,177,179,180,182,183,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,4,5,7,8,10,11,12,14,15,17,18,19,21,22,24,25,27,28,29,31,32,34,35,36,38,39,41,42,43,45,46,48,49,50,52,53,55,56,58,59,60,62,63,65,66,67,69,70,72,73,74,76,77,79,80,82,83,84,86,87,89,90,91,93,94,96,97,98,100,101,103,104,105,107,108,110,111,113,114,115,117,118,120,121,122,124,125,127,128,129,131,132,134,135,137,138,139,141,142,144,145,146,148,149,151,152,153,155,156,158,159,160,162,163,165,166,168,169,170,172,173,175,176,177,179,180,182,183,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,4,5,7,8,10,11,12,14,15,17,18,20,21,23,24,25,27,28,30,31,33,34,35,37,38,40,41,43,44,45,47,48,50,51,53,54,56,57,58,60,61,63,64,66,67,68,70,71,73,74,76,77,78,80,81,83,84,86,87,88,90,91,93,94,96,97,99,100,101,103,104,106,107,109,110,111,113,114,116,117,119,120,121,123,124,126,127,129,130,131,133,134,136,137,139,140,142,143,144,146,147,149,150,152,153,154,156,157,159,160,162,163,164,166,167,169,170,172,173,175,176,177,179,180,182,183,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,4,5,7,8,10,11,13,14,16,17,18,20,21,23,24,26,27,29,30,32,33,34,36,37,39,40,42,43,45,46,48,49,50,52,53,55,56,58,59,61,62,64,65,67,68,69,71,72,74,75,77,78,80,81,83,84,85,87,88,90,91,93,94,96,97,99,100,102,103,104,106,107,109,110,112,113,115,116,118,119,120,122,123,125,126,128,129,131,132,134,135,137,138,139,141,142,144,145,147,148,150,151,153,154,155,157,158,160,161,163,164,166,167,169,170,171,173,174,176,177,179,180,182,183,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,4,5,7,8,10,11,13,14,16,17,18,20,21,23,24,26,27,29,30,32,33,34,36,37,39,40,42,43,45,46,48,49,50,52,53,55,56,58,59,61,62,64,65,67,68,69,71,72,74,75,77,78,80,81,83,84,85,87,88,90,91,93,94,96,97,99,100,102,103,104,106,107,109,110,112,113,115,116,118,119,120,122,123,125,126,128,129,131,132,134,135,137,138,139,141,142,144,145,147,148,150,151,153,154,155,157,158,160,161,163,164,166,167,169,170,171,173,174,176,177,179,180,182,183,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,4,5,7,8,10,11,13,14,16,17,19,20,22,23,25,26,28,29,31,32,33,35,36,38,39,41,42,44,45,47,48,50,51,53,54,56,57,59,60,62,63,65,66,68,69,71,72,73,75,76,78,79,81,82,84,85,87,88,90,91,93,94,96,97,99,100,102,103,105,106,108,109,111,112,114,115,116,118,119,121,122,124,125,127,128,130,131,133,134,136,137,139,140,142,143,145,146,148,149,151,152,154,155,156,158,159,161,162,164,165,167,168,170,171,173,174,176,177,179,180,182,183,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,4,5,7,8,10,11,13,14,16,17,19,20,22,23,25,26,28,30,31,33,34,36,37,39,40,42,43,45,46,48,49,51,52,54,55,57,58,60,61,63,64,66,67,69,70,72,73,75,76,78,79,81,82,84,85,87,88,90,91,93,94,96,97,99,100,102,103,105,106,108,109,111,112,114,115,117,118,120,121,123,124,126,127,129,130,132,133,135,136,138,139,141,142,144,145,147,148,150,151,153,154,156,157,159,161,162,164,165,167,168,170,171,173,174,176,177,179,180,182,183,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,4,5,7,8,10,11,13,14,16,17,19,20,22,23,25,26,28,30,31,33,34,36,37,39,40,42,43,45,46,48,49,51,52,54,55,57,58,60,61,63,64,66,67,69,70,72,73,75,76,78,79,81,82,84,85,87,88,90,91,93,94,96,97,99,100,102,103,105,106,108,109,111,112,114,115,117,118,120,121,123,124,126,127,129,130,132,133,135,136,138,139,141,142,144,145,147,148,150,151,153,154,156,157,159,161,162,164,165,167,168,170,171,173,174,176,177,179,180,182,183,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,4,6,7,9,10,12,13,15,16,18,19,21,22,24,25,27,28,30,32,33,35,36,38,39,41,42,44,45,47,48,50,51,53,54,56,58,59,61,62,64,65,67,68,70,71,73,74,76,77,79,80,82,84,85,87,88,90,91,93,94,96,97,99,100,102,103,105,107,108,110,111,113,114,116,117,119,120,122,123,125,126,128,129,131,133,134,136,137,139,140,142,143,145,146,148,149,151,152,154,155,157,159,160,162,163,165,166,168,169,171,172,174,175,177,178,180,181,183,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,4,6,7,9,10,12,13,15,17,18,20,21,23,24,26,27,29,31,32,34,35,37,38,40,41,43,45,46,48,49,51,52,54,55,57,59,60,62,63,65,66,68,69,71,73,74,76,77,79,80,82,83,85,87,88,90,91,93,94,96,97,99,100,102,104,105,107,108,110,111,113,114,116,118,119,121,122,124,125,127,128,130,132,133,135,136,138,139,141,142,144,146,147,149,150,152,153,155,156,158,160,161,163,164,166,167,169,170,172,174,175,177,178,180,181,183,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,4,6,8,9,11,12,14,15,17,19,20,22,23,25,26,28,30,31,33,34,36,37,39,41,42,44,45,47,49,50,52,53,55,56,58,60,61,63,64,66,67,69,71,72,74,75,77,79,80,82,83,85,86,88,90,91,93,94,96,97,99,101,102,104,105,107,108,110,112,113,115,116,118,120,121,123,124,126,127,129,131,132,134,135,137,138,140,142,143,145,146,148,150,151,153,154,156,157,159,161,162,164,165,167,168,170,172,173,175,176,178,179,181,183,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,4,6,8,9,11,12,14,15,17,19,20,22,23,25,26,28,30,31,33,34,36,37,39,41,42,44,45,47,49,50,52,53,55,56,58,60,61,63,64,66,67,69,71,72,74,75,77,79,80,82,83,85,86,88,90,91,93,94,96,97,99,101,102,104,105,107,108,110,112,113,115,116,118,120,121,123,124,126,127,129,131,132,134,135,137,138,140,142,143,145,146,148,150,151,153,154,156,157,159,161,162,164,165,167,168,170,172,173,175,176,178,179,181,183,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,5,6,8,9,11,13,14,16,17,19,21,22,24,25,27,29,30,32,33,35,37,38,40,41,43,45,46,48,49,51,53,54,56,57,59,61,62,64,65,67,69,70,72,73,75,77,78,80,81,83,85,86,88,89,91,93,94,96,98,99,101,102,104,106,107,109,110,112,114,115,117,118,120,122,123,125,126,128,130,131,133,134,136,138,139,141,142,144,146,147,149,150,152,154,155,157,158,160,162,163,165,166,168,170,171,173,174,176,178,179,181,182,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,3,5,7,8,10,11,13,15,16,18,20,21,23,24,26,28,29,31,33,34,36,37,39,41,42,44,46,47,49,50,52,54,55,57,59,60,62,63,65,67,68,70,72,73,75,76,78,80,81,83,85,86,88,89,91,93,94,96,98,99,101,102,104,106,107,109,111,112,114,115,117,119,120,122,124,125,127,128,130,132,133,135,137,138,140,141,143,145,146,148,150,151,153,154,156,158,159,161,163,164,166,167,169,171,172,174,176,177,179,180,182,184,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,4,5,7,9,10,12,14,15,17,18,20,22,23,25,27,28,30,32,33,35,37,38,40,42,43,45,46,48,50,51,53,55,56,58,60,61,63,65,66,68,70,71,73,75,76,78,79,81,83,84,86,88,89,91,93,94,96,98,99,101,103,104,106,108,109,111,112,114,116,117,119,121,122,124,126,127,129,131,132,134,136,137,139,141,142,144,145,147,149,150,152,154,155,157,159,160,162,164,165,167,169,170,172,173,175,177,178,180,182,183,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,4,5,7,9,10,12,14,15,17,18,20,22,23,25,27,28,30,32,33,35,37,38,40,42,43,45,46,48,50,51,53,55,56,58,60,61,63,65,66,68,70,71,73,75,76,78,79,81,83,84,86,88,89,91,93,94,96,98,99,101,103,104,106,108,109,111,112,114,116,117,119,121,122,124,126,127,129,131,132,134,136,137,139,141,142,144,145,147,149,150,152,154,155,157,159,160,162,164,165,167,169,170,172,173,175,177,178,180,182,183,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,4,6,7,9,11,12,14,16,17,19,21,22,24,26,27,29,31,32,34,36,37,39,41,42,44,46,47,49,51,53,54,56,58,59,61,63,64,66,68,69,71,73,74,76,78,79,81,83,84,86,88,89,91,93,94,96,98,99,101,103,104,106,108,109,111,113,114,116,118,119,121,123,124,126,128,129,131,133,134,136,138,140,141,143,145,146,148,150,151,153,155,156,158,160,161,163,165,166,168,170,171,173,175,176,178,180,181,183,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,4,6,8,9,11,13,15,16,18,20,21,23,25,26,28,30,32,33,35,37,38,40,42,43,45,47,49,50,52,54,55,57,59,60,62,64,65,67,69,71,72,74,76,77,79,81,82,84,86,88,89,91,93,94,96,98,99,101,103,105,106,108,110,111,113,115,116,118,120,122,123,125,127,128,130,132,133,135,137,138,140,142,144,145,147,149,150,152,154,155,157,159,161,162,164,166,167,169,171,172,174,176,178,179,181,183,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,5,7,8,10,12,13,15,17,19,20,22,24,26,27,29,31,32,34,36,38,39,41,43,44,46,48,50,51,53,55,56,58,60,62,63,65,67,69,70,72,74,75,77,79,81,82,84,86,87,89,91,93,94,96,98,100,101,103,105,106,108,110,112,113,115,117,118,120,122,124,125,127,129,131,132,134,136,137,139,141,143,144,146,148,149,151,153,155,156,158,160,161,163,165,167,168,170,172,174,175,177,179,180,182,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,4,5,7,9,11,12,14,16,18,19,21,23,25,26,28,30,32,33,35,37,39,40,42,44,46,47,49,51,52,54,56,58,59,61,63,65,66,68,70,72,73,75,77,79,80,82,84,86,87,89,91,93,94,96,98,100,101,103,105,107,108,110,112,114,115,117,119,121,122,124,126,128,129,131,133,135,136,138,140,141,143,145,147,148,150,152,154,155,157,159,161,162,164,166,168,169,171,173,175,176,178,180,182,183,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,4,6,8,9,11,13,15,17,18,20,22,24,25,27,29,31,32,34,36,38,40,41,43,45,47,48,50,52,54,55,57,59,61,63,64,66,68,70,71,73,75,77,78,80,82,84,86,87,89,91,93,94,96,98,100,101,103,105,107,109,110,112,114,116,117,119,121,123,124,126,128,130,132,133,135,137,139,140,142,144,146,147,149,151,153,155,156,158,160,162,163,165,167,169,170,172,174,176,178,179,181,183,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,5,7,8,10,12,14,16,17,19,21,23,24,26,28,30,32,33,35,37,39,41,42,44,46,48,50,51,53,55,57,59,60,62,64,66,68,69,71,73,75,76,78,80,82,84,85,87,89,91,93,94,96,98,100,102,103,105,107,109,111,112,114,116,118,119,121,123,125,127,128,130,132,134,136,137,139,141,143,145,146,148,150,152,154,155,157,159,161,163,164,166,168,170,171,173,175,177,179,180,182,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,2,4,5,7,9,11,13,14,16,18,20,22,24,25,27,29,31,33,34,36,38,40,42,44,45,47,49,51,53,54,56,58,60,62,64,65,67,69,71,73,74,76,78,80,82,84,85,87,89,91,93,94,96,98,100,102,103,105,107,109,111,113,114,116,118,120,122,123,125,127,129,131,133,134,136,138,140,142,143,145,147,149,151,153,154,156,158,160,162,163,165,167,169,171,173,174,176,178,180,182,183,185,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,4,6,8,10,12,13,15,17,19,21,23,24,26,28,30,32,34,36,37,39,41,43,45,47,48,50,52,54,56,58,59,61,63,65,67,69,70,72,74,76,78,80,82,83,85,87,89,91,93,94,96,98,100,102,104,105,107,109,111,113,115,117,118,120,122,124,126,128,129,131,133,135,137,139,140,142,144,146,148,150,151,153,155,157,159,161,163,164,166,168,170,172,174,175,177,179,181,183,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,5,7,9,11,12,14,16,18,20,22,24,25,27,29,31,33,35,37,38,40,42,44,46,48,50,52,53,55,57,59,61,63,65,66,68,70,72,74,76,78,80,81,83,85,87,89,91,93,94,96,98,100,102,104,106,107,109,111,113,115,117,119,121,122,124,126,128,130,132,134,135,137,139,141,143,145,147,149,150,152,154,156,158,160,162,163,165,167,169,171,173,175,176,178,180,182,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,4,6,8,9,11,13,15,17,19,21,23,25,26,28,30,32,34,36,38,40,42,43,45,47,49,51,53,55,57,59,60,62,64,66,68,70,72,74,76,77,79,81,83,85,87,89,91,93,94,96,98,100,102,104,106,108,110,111,113,115,117,119,121,123,125,127,128,130,132,134,136,138,140,142,144,145,147,149,151,153,155,157,159,161,162,164,166,168,170,172,174,176,178,179,181,183,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,5,6,8,10,12,14,16,18,20,22,24,26,28,29,31,33,35,37,39,41,43,45,47,49,50,52,54,56,58,60,62,64,66,68,70,72,73,75,77,79,81,83,85,87,89,91,93,94,96,98,100,102,104,106,108,110,112,114,115,117,119,121,123,125,127,129,131,133,135,137,138,140,142,144,146,148,150,152,154,156,158,159,161,163,165,167,169,171,173,175,177,179,181,182,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,2,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,63,65,67,69,71,73,75,77,79,81,83,85,87,89,91,93,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,125,127,129,131,133,135,137,139,141,143,145,147,149,151,153,155,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,185,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,85,87,89,91,93,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,143,145,147,149,151,153,155,157,159,161,163,165,167,169,171,173,175,177,179,181,183,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,95,97,99,101,103,105,107,109,111,113,115,117,119,121,123,125,127,129,131,133,135,137,139,141,143,145,147,149,151,153,155,157,159,161,163,165,167,169,171,173,175,177,179,181,183,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,95,97,99,101,103,105,107,109,111,113,115,117,119,121,123,125,127,129,131,133,135,137,139,141,143,145,147,149,151,153,155,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,2,4,6,8,10,12,14,16,18,20,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,95,97,99,101,103,105,107,109,111,113,115,117,119,121,123,125,127,129,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,167,169,171,173,175,177,179,181,183,185,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,5,7,9,11,13,15,18,20,22,24,26,28,30,32,34,36,38,40,43,45,47,49,51,53,55,57,59,61,63,65,67,70,72,74,76,78,80,82,84,86,88,90,92,95,97,99,101,103,105,107,109,111,113,115,117,120,122,124,126,128,130,132,134,136,138,140,142,144,147,149,151,153,155,157,159,161,163,165,167,169,172,174,176,178,180,182,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,5,7,9,12,14,16,18,20,22,24,26,29,31,33,35,37,39,41,43,46,48,50,52,54,56,58,61,63,65,67,69,71,73,75,78,80,82,84,86,88,90,92,95,97,99,101,103,105,107,109,112,114,116,118,120,122,124,126,129,131,133,135,137,139,141,144,146,148,150,152,154,156,158,161,163,165,167,169,171,173,175,178,180,182,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,2,4,6,8,11,13,15,17,19,21,24,26,28,30,32,34,36,39,41,43,45,47,49,52,54,56,58,60,62,64,67,69,71,73,75,77,80,82,84,86,88,90,92,95,97,99,101,103,105,107,110,112,114,116,118,120,123,125,127,129,131,133,135,138,140,142,144,146,148,151,153,155,157,159,161,163,166,168,170,172,174,176,179,181,183,185,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,2,4,7,9,11,13,15,18,20,22,24,26,29,31,33,35,37,40,42,44,46,48,51,53,55,57,59,62,64,66,68,70,73,75,77,79,81,84,86,88,90,92,95,97,99,101,103,106,108,110,112,114,117,119,121,123,125,128,130,132,134,136,139,141,143,145,147,150,152,154,156,158,161,163,165,167,169,172,174,176,178,180,183,185,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,6,8,10,12,15,17,19,21,23,26,28,30,32,35,37,39,41,43,46,48,50,52,55,57,59,61,63,66,68,70,72,75,77,79,81,83,86,88,90,92,95,97,99,101,104,106,108,110,112,115,117,119,121,124,126,128,130,132,135,137,139,141,144,146,148,150,152,155,157,159,161,164,166,168,170,172,175,177,179,181,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,4,6,8,11,13,15,17,20,22,24,26,29,31,33,36,38,40,42,45,47,49,51,54,56,58,61,63,65,67,70,72,74,76,79,81,83,86,88,90,92,95,97,99,101,104,106,108,111,113,115,117,120,122,124,126,129,131,133,136,138,140,142,145,147,149,151,154,156,158,161,163,165,167,170,172,174,176,179,181,183,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,5,7,10,12,14,17,19,21,23,26,28,30,33,35,37,40,42,44,46,49,51,53,56,58,60,63,65,67,69,72,74,76,79,81,83,85,88,90,92,95,97,99,102,104,106,108,111,113,115,118,120,122,124,127,129,131,134,136,138,141,143,145,147,150,152,154,157,159,161,164,166,168,170,173,175,177,180,182,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,6,8,10,13,15,17,20,22,24,27,29,31,34,36,38,41,43,45,48,50,52,55,57,60,62,64,67,69,71,74,76,78,81,83,85,88,90,92,95,97,99,102,104,106,109,111,113,116,118,120,123,125,127,130,132,135,137,139,142,144,146,149,151,153,156,158,160,163,165,167,170,172,174,177,179,181,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,2,5,7,9,12,14,17,19,21,24,26,28,31,33,35,38,40,43,45,47,50,52,54,57,59,62,64,66,69,71,73,76,78,80,83,85,88,90,92,95,97,99,102,104,107,109,111,114,116,118,121,123,125,128,130,133,135,137,140,142,144,147,149,152,154,156,159,161,163,166,168,170,173,175,178,180,182,185,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,3,5,8,10,13,15,17,20,22,25,27,29,32,34,37,39,42,44,46,49,51,54,56,58,61,63,66,68,71,73,75,78,80,83,85,87,90,92,95,97,100,102,104,107,109,112,114,116,119,121,124,126,129,131,133,136,138,141,143,145,148,150,153,155,158,160,162,165,167,170,172,174,177,179,182,184,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,4,6,9,11,13,16,18,21,23,26,28,31,33,36,38,41,43,45,48,50,53,55,58,60,63,65,68,70,73,75,77,80,82,85,87,90,92,95,97,100,102,105,107,110,112,114,117,119,122,124,127,129,132,134,137,139,142,144,146,149,151,154,156,159,161,164,166,169,171,174,176,178,181,183,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,2,4,7,9,12,14,17,19,22,24,27,29,32,34,37,40,42,45,47,50,52,55,57,60,62,65,67,70,72,75,77,80,82,85,87,90,92,95,97,100,102,105,107,110,112,115,117,120,122,125,127,130,132,135,137,140,142,145,147,150,153,155,158,160,163,165,168,170,173,175,178,180,183,185,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,3,5,8,10,13,15,18,21,23,26,28,31,33,36,38,41,44,46,49,51,54,56,59,62,64,67,69,72,74,77,79,82,85,87,90,92,95,97,100,102,105,108,110,113,115,118,120,123,125,128,131,133,136,138,141,143,146,149,151,154,156,159,161,164,166,169,172,174,177,179,182,184,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,4,6,9,11,14,17,19,22,24,27,30,32,35,37,40,43,45,48,50,53,56,58,61,64,66,69,71,74,77,79,82,84,87,90,92,95,97,100,103,105,108,110,113,116,118,121,123,126,129,131,134,137,139,142,144,147,150,152,155,157,160,163,165,168,170,173,176,178,181,183,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,2,5,7,10,13,15,18,20,23,26,28,31,34,36,39,42,44,47,50,52,55,58,60,63,66,68,71,74,76,79,82,84,87,90,92,95,97,100,103,105,108,111,113,116,119,121,124,127,129,132,135,137,140,143,145,148,151,153,156,159,161,164,167,169,172,174,177,180,182,185,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,3,6,8,11,14,16,19,22,25,27,30,33,35,38,41,43,46,49,52,54,57,60,62,65,68,71,73,76,79,81,84,87,89,92,95,98,100,103,106,108,111,114,116,119,122,125,127,130,133,135,138,141,144,146,149,152,154,157,160,162,165,168,171,173,176,179,181,184,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,4,7,10,12,15,18,21,23,26,29,32,34,37,40,43,45,48,51,54,56,59,62,65,67,70,73,76,78,81,84,87,89,92,95,98,100,103,106,109,111,114,117,120,122,125,128,131,133,136,139,142,144,147,150,153,155,158,161,164,166,169,172,175,177,180,183,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,2,5,7,10,13,16,19,22,24,27,30,33,36,38,41,44,47,50,53,55,58,61,64,67,70,72,75,78,81,84,86,89,92,95,98,101,103,106,109,112,115,117,120,123,126,129,132,134,137,140,143,146,149,151,154,157,160,163,165,168,171,174,177,180,182,185,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,3,6,9,12,15,17,20,23,26,29,32,35,38,40,43,46,49,52,55,58,60,63,66,69,72,75,78,81,83,86,89,92,95,98,101,104,106,109,112,115,118,121,124,127,129,132,135,138,141,144,147,149,152,155,158,161,164,167,170,172,175,178,181,184,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,4,7,10,13,16,18,21,24,27,30,33,36,39,42,45,48,51,54,57,60,63,66,68,71,74,77,80,83,86,89,92,95,98,101,104,107,110,113,116,119,121,124,127,130,133,136,139,142,145,148,151,154,157,160,163,166,169,171,174,177,180,183,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,2,5,8,11,14,17,20,23,26,29,32,35,38,41,44,47,50,53,56,59,62,65,68,71,74,77,80,83,86,89,92,95,98,101,104,107,110,113,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,176,179,182,185,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,3,6,9,12,15,18,22,25,28,31,34,37,40,43,46,49,52,55,58,61,64,67,71,74,77,80,83,86,89,92,95,98,101,104,107,110,113,116,120,123,126,129,132,135,138,141,144,147,150,153,156,159,162,165,169,172,175,178,181,184,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,4,7,10,14,17,20,23,26,29,32,36,39,42,45,48,51,54,57,61,64,67,70,73,76,79,83,86,89,92,95,98,101,104,108,111,114,117,120,123,126,130,133,136,139,142,145,148,151,155,158,161,164,167,170,173,177,180,183,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,2,5,9,12,15,18,21,25,28,31,34,37,41,44,47,50,53,57,60,63,66,69,73,76,79,82,85,89,92,95,98,102,105,108,111,114,118,121,124,127,130,134,137,140,143,146,150,153,156,159,162,166,169,172,175,178,182,185,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,3,7,10,13,16,20,23,26,30,33,36,39,43,46,49,53,56,59,62,66,69,72,75,79,82,85,89,92,95,98,102,105,108,112,115,118,121,125,128,131,134,138,141,144,148,151,154,157,161,164,167,171,174,177,180,184,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,4,7,11,14,18,21,24,28,31,34,38,41,45,48,51,55,58,61,65,68,72,75,78,82,85,88,92,95,99,102,105,109,112,115,119,122,126,129,132,136,139,142,146,149,153,156,159,163,166,169,173,176,180,183,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,2,6,9,13,16,19,23,26,30,33,37,40,44,47,50,54,57,61,64,68,71,75,78,81,85,88,92,95,99,102,106,109,112,116,119,123,126,130,133,137,140,143,147,150,154,157,161,164,168,171,174,178,181,185,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,3,7,10,14,17,21,24,28,32,35,39,42,46,49,53,56,60,63,67,70,74,78,81,85,88,92,95,99,102,106,109,113,117,120,124,127,131,134,138,141,145,148,152,155,159,163,166,170,173,177,180,184,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,4,8,12,15,19,23,26,30,33,37,41,44,48,52,55,59,63,66,70,73,77,81,84,88,92,95,99,103,106,110,114,117,121,124,128,132,135,139,143,146,150,154,157,161,164,168,172,175,179,183,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,2,6,10,13,17,21,24,28,32,36,39,43,47,51,54,58,62,66,69,73,77,80,84,88,92,95,99,103,107,110,114,118,121,125,129,133,136,140,144,148,151,155,159,163,166,170,174,177,181,185,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255} };

uint8_t threshold1 = 128;//阈值三段式
uint8_t threshold2 = 128;//阈值
uint8_t threshold3 = 128;
uint8_t img_original[CAMERA_H][CAMERA_W];

extern uint8_t image_Buffer_0[CAMERA_H][CAMERA_W];

typedef struct {
	uint8_t l_entrance;
	uint8_t r_entrance;
	uint8_t cross_road_centre;
}cross_information;



cross_information cross_inf;


////////////////////




// /**************************************************************
// *  @brief      color init
// *  @since      v1.0
// *  Sample usage:	col_init();
// **************************************************************/
// void col_init(void)
// {
// 	col_white.val[0] = 255;
// 	col_white.val[1] = 255;
// 	col_white.val[2] = 255;
// 	col_black.val[0] = 0;
// 	col_black.val[1] = 0;
// 	col_black.val[2] = 0;
// 	col_blue.val[0] = 255;
// 	col_blue.val[1] = 0;
// 	col_blue.val[2] = 0;
// 	col_green.val[0] = 0;
// 	col_green.val[1] = 255;
// 	col_green.val[2] = 0;
// 	col_purple.val[0] = 255;
// 	col_purple.val[1] = 0;
// 	col_purple.val[2] = 255;
// 	col_red.val[0] = 0;
// 	col_red.val[1] = 0;
// 	col_red.val[2] = 255;
// 	col_gray.val[0] = 100;
// 	col_gray.val[1] = 100;
// 	col_gray.val[2] = 100;
// }

// /**************************************************************
// *  @brief      make a array from image
// *  @param      img: source image
// *  @param      array: dst array
// *  @since      v1.0
// *  Sample usage:	IMAGE_Image2Array(&Origin, image_Buffer_0);
// **************************************************************/
// void IMAGE_Image2Array(IplImage *(*img), uint8_t array[CAMERA_H][CAMERA_W])
// {
// 	CvScalar pixel_color;
// 	int i, j;
// 	for (i = 0; i < CAMERA_H; i++)
// 	{
// 		for (j = 0; j < CAMERA_W; j++)
// 		{
// 			pixel_color = cvGet2D((*img), i, j);

// 			//original
// 			array[i][j] = pixel_color.val[0];

// 		}
// 	}
// }

// /**************************************************************
// *  @brief      make a image from array
// *  @param      src: source array
// *  @param      dst: dst image
// *  @since      v1.0
// *  Sample usage:	IMAGE_Array2Image(image_Buffer_0, &tmp);
// **************************************************************/
// void IMAGE_Array2Image(uint8_t array[CAMERA_H][CAMERA_W], IplImage *(*img))
// {
// 	int i, j;
// 	CvScalar Pixel_Color;
// 	for (i = 0; i < CAMERA_H; i++)
// 	{
// 		uint8_t *Pixel = NULL;
// 		Pixel = &array[i][0];
// 		for (j = 0; j < CAMERA_W; j++)
// 		{
// 			if (j < STRATEGY_CURRENT_LEFT_LIMITS || j > STRATEGY_CURRENT_RIGHT_LIMITS)
// 			{
// 				Pixel_Color = col_gray;
// 			}
// 			else
// 			{
// 				if (*(Pixel) == COLOR_WHITE)
// 					Pixel_Color = col_white;
// 				if (*(Pixel) == COLOR_BLACK)
// 					Pixel_Color = col_black;
// 				if (*(Pixel) == COLOR_BLUE)
// 					Pixel_Color = col_blue;
// 				if (*(Pixel) == COLOR_GREEN)
// 					Pixel_Color = col_green;
// 				if (*(Pixel) == COLOR_RED)
// 					Pixel_Color = col_red;
// 				if (*(Pixel) == COLOR_PURPLE)
// 					Pixel_Color = col_purple;
// 				if (*(Pixel) == COLOR_GRAY)
// 					Pixel_Color = col_gray;
// 			}
// 			cvSet2D(*img, i, j, Pixel_Color);
// 			Pixel++;
// 		}
// 	}
// }



/**************************************************************
*  @brief      Add a limit line on the top...may be useful
*  @param       array: source array
*  @since      v1.0
*  Sample usage:
**************************************************************/
void IMAGE_ADD_TopBoundary(uint8_t array[CAMERA_H][CAMERA_W])
{
	int i, j;
	uint8_t *Pixel = NULL;

	Pixel = &array[0][CAR_HEAD_LEFT_LIMITS];
	for (j = 0; j <= 188; j++)
	{

		*Pixel = COLOR_BLACK;
		Pixel++;
	}
}

/**************************************************************
*  @brief      Remove Car Head array, specially design for original img
*  @param       array: source array
*  @since      v1.0
*  Sample usage:		IMAGE_RemoveCarHead(image_Proc);
**************************************************************/
void IMAGE_RemoveCarHead(uint8_t array[CAMERA_H][CAMERA_W])
{
	int i, j = 0;
	uint8_t *Pixel = NULL;

	// //For Real Device
	for (i = 100; i <= 120; i++)
	{
		for (j = 43; j <= 149; j++)
		{
			array[i][j] = COLOR_WHITE;
		}
	}
	for (i = 99; i >= 89; i--)
	{
		for (j = 45; j <= 147; j++)
		{
			array[i][j] = COLOR_WHITE;
		}
	}
	for (i = 88; i >= 83; i--)
	{
		for (j = 70; j <= 123; j++)
		{
			array[i][j] = COLOR_WHITE;
		}
	}
	for (i = 82; i >= 70; i--)
	{
		for (j = 70; j <= 103; j++)
		{
			array[i][j] = COLOR_WHITE;
		}
	}

	/*
	//new method:dynamic cleanner

	for (i = 60; i < 119; i++)
	{
		Pixel = &array[i][STRATEGY_CURRENT_MID];
		for (j = STRATEGY_CURRENT_MID; j <= STRATEGY_CURRENT_MID+60; j++)
		{
			if((*Pixel) == COLOR_WHITE)
			{
				j = STRATEGY_CURRENT_MID+61;
			}
			else if((*Pixel) == COLOR_BLACK)
			{
				(*Pixel) = COLOR_WHITE;
			}
			Pixel++;
		}
		Pixel = &array[i][STRATEGY_CURRENT_MID-1];
		for (j = STRATEGY_CURRENT_MID-1; j >= STRATEGY_CURRENT_MID-50; j--)
		{
			if((*Pixel) == COLOR_WHITE)
			{
				j = STRATEGY_CURRENT_MID-51;
			}
			else if((*Pixel) == COLOR_BLACK)
			{
				(*Pixel) = COLOR_WHITE;
			}
			Pixel--;
		}

	}
	*/

	// //General for /11091
	// for (i = 60; i < 70; i++)
	// {
	// 	for (j = 40; j <= 140; j++)
	// 	{
	// 		array[i][j] = COLOR_WHITE;
	// 	}
	// }
	// for (i = 70; i <= 100; i++)
	// {
	// 	for (j = 40; j <= 145; j++)
	// 	{
	// 		array[i][j] = COLOR_WHITE;
	// 	}
	// }
	// for (i = 100; i <= 120; i++)
	// {
	// 	for (j = 30; j <= 160; j++)
	// 	{
	// 		array[i][j] = COLOR_WHITE;
	// 	}
	// }

	/*
	//General for /1102
	for (i = 73; i <= 100; i++)
	{
		for (j = 40; j <= 151; j++)
		{
			array[i][j] = COLOR_WHITE;
		}
	}
	for (i = 100; i <= 120; i++)
	{
		for (j = 30; j <= 160; j++)
		{
			array[i][j] = COLOR_WHITE;
		}
	}
	*/
	/*
	//General for /1028
	for (i = CAR_HEAD_FAR_LIMITS; i <= CAR_HEAD_NEAR_LIMITS; i++)
	{

		Pixel = &array[i][CAR_HEAD_LEFT_LIMITS];
		for (j = CAR_HEAD_LEFT_LIMITS; j <= CAR_HEAD_RIGHT_LIMITS; j++)
		{

			*Pixel = COLOR_WHITE;
			Pixel++;
		}
	}
	*/
	/*
	//General for /42101
	for (i = 73; i <= 100; i++)
	{
		for (j = 68; j <= 112;j++)
		{
			array[i][j] = COLOR_WHITE;
		}
	}
	for (i = 100; i <= 120; i++)
	{
		for (j = 65; j <= 115; j++)
		{
			array[i][j] = COLOR_WHITE;
		}
	}
	*/
	/*
	//General for /1109
	for (i = 90; i <= 120; i++)
	{

		Pixel = &array[i][29];
		for (j = 29; j <= 157; j++)
		{

			*Pixel = COLOR_WHITE;
			Pixel++;
		}
	}
	/*
	for (i = 63; i <= 75; i++)
	{

		Pixel = &array[i][29];
		for (j = 29; j <= 157; j++)
		{

			*Pixel = COLOR_WHITE;
			Pixel++;
		}
	}
	*/
	/*
	//Special
	array[84][86] = COLOR_WHITE;
	for (i = 110; i <= 120; i++)
	{

		Pixel = &array[i][120];
		for (j = 120; j <= 140; j++)
		{

			*Pixel = COLOR_WHITE;
			Pixel++;
		}
	}
	*/
}

/**************************************************************
*  @brief      Roi Cutting
*  @param      img: src img array (and output array)
*  @param      img: roi img array (and output array)
*  @since      v1.0
*  @note       Path compression enable
**************************************************************/
void IMAGE_ROI_Cutting(uint8_t img[CAMERA_H][CAMERA_W], uint8_t roi_bg[CAMERA_H][CAMERA_W])
{
	int i, j;
	for (i = 0; i <= 120; i++)
	{
		for (j = 0; j <= 188; j++)
		{
			img[i][j] = !((!img[i][j]) & (roi_bg[i][j]));
		}
	}
}

/**************************************************************
*  @brief      Road type Check
*  @param      img: src img array (and output array)
*  @param      img: roi img array (and output array)
*  @since      v1.0
*  @note       Path compression enable
**************************************************************/
void IMAGE_CHECK_RoadType()
{
	/*
	int Count_White_Overall;
	int Count_White_UpLeft;
	int Count_White_UpRight;
	int Count_White_DownLeft;
	int Count_White_DownRight;
	int Count_White_3x3[3][3];
	*/
}

/**************************************************************
*  @brief      Find oldest ancestors
*  @param       a�� node index
*  @since      v1.0
*  @note       Path compression enable
**************************************************************/
int IMAGE_Find_FatherNode(int a)
{
	if (f[a] == a)
		return a;
	f[a] = IMAGE_Find_FatherNode(f[a]);
	return f[a];
}

/**************************************************************
*  @brief      SearchWhiteRange and lable them
*  @param       a�� img arr
*  @since      v1.0
**************************************************************/
void IMAGE_SearchWhiteRange(uint8_t img[CAMERA_H][CAMERA_W])
{
	uint8_t i, j;
	int i_start = STRATEGY_CURRENT_LOWER_LIMITS; //proccess start
	int i_end = STRATEGY_CURRENT_UPPER_LIMITS;   //proccess end
	int tnum = 0;								 //��ǰ�а�����
	all_connect_num = 0;
	uint8_t *Pixel = NULL;
	for (i = i_start; i >= i_end; i--)
	{
		Pixel = &img[i][STRATEGY_CURRENT_LEFT_LIMITS]; //ָ�����߼ӿ�����ٶ�?
		tnum = 0;
		for (j = STRATEGY_CURRENT_LEFT_LIMITS; j <= STRATEGY_CURRENT_RIGHT_LIMITS; j++, Pixel++)
		{
			if ((*Pixel)) //��������߽�?
			{
				tnum++;
				if (tnum >= white_num_MAX)
					break;
				range *now_white = &white_range[i].area[tnum];
				now_white->left = j;

				//��ʼ���һ��һ�����ص�����������ұ߽�
				Pixel++;
				j++;
				while ((*Pixel) && j <= STRATEGY_CURRENT_RIGHT_LIMITS)
				{
					Pixel++;
					j++;
				}
				now_white->right = j - 1;
				now_white->connect_num = ++all_connect_num; //��������һ��������������
			}
		}
		white_range[i].num = tnum;
	}
}

/**************************************************************
*  @brief      Find connectivity of each white pieces
*  @param      NULL
*  @since      v1.0
**************************************************************/
void IMAGE_FIND_AllConnect()
{
	//f�����ʼ��?
	for (int i = 1; i <= all_connect_num; i++)
		f[i] = i;

	//uΪup dΪdown ��Ϊ��ǰ�������������е��������к���������
	//u_num�������а�����
	//u_left�������е�ǰ������߽�?
	//u_right�������е�ǰ�����ұ߽�
	//i_u����ǰ��������������ǵ�ǰ���У������У������еĵ�i_u��
	int u_num, i_u, u_left, u_right;
	int d_num, i_d, d_left, d_right;
	all_range *u_white = NULL;
	all_range *d_white = NULL;
	for (int i = STRATEGY_CURRENT_LOWER_LIMITS; i > STRATEGY_CURRENT_UPPER_LIMITS; i--) //��Ϊÿ����ÿ���бȽ� ����ѭ����STRATEGY_CURRENT_UPPER_LIMITS+1
	{
		u_num = white_range[i - 1].num;
		d_num = white_range[i].num;
		u_white = &white_range[i - 1];
		d_white = &white_range[i];
		i_u = 1;
		i_d = 1;
		while (i_u <= u_num && i_d <= d_num)
		{
			//�����ȱ��棬�����������д�������ҷ���Ч�ʵ�?
			u_left = u_white->area[i_u].left;
			u_right = u_white->area[i_u].right;
			d_left = d_white->area[i_d].left;
			d_right = d_white->area[i_d].right;

			if (u_left <= d_right && u_right >= d_left)																			  //����������ͨ
				f[IMAGE_Find_FatherNode(u_white->area[i_u].connect_num)] = IMAGE_Find_FatherNode(d_white->area[i_d].connect_num); //���ڵ�������

			//��ǰ�㷨��������һ������?��Ϊɶ������
			if (d_right > u_right)
				i_u++;
			if (d_right < u_right)
				i_d++;
			if (d_right == u_right)
			{
				i_u++;
				i_d++;
			}
		}
	}
}

/**************************************************************
*  @brief      Find road
*  @param      NULL
*  @since      v1.0
**************************************************************/
void IMAGE_FIND_ROAD()
{
	uint8_t istart = STRATEGY_CURRENT_LOWER_LIMITS;
	uint8_t iend = STRATEGY_CURRENT_UPPER_LIMITS;
	top_road = STRATEGY_CURRENT_LOWER_LIMITS; //������ߴ������������ȳ�ʼ�����?��ʹ�?
	int road_f = -1;						  //����������ͨ�򸸽ڵ��ţ��ȳ�ʼ��Ϊ-1�����ж��Ƿ��ҵ�����
	int while_range_num = 0, roud_while_range_num = 0;
	all_range *twhite_range = NULL;
	road *tmy_road = NULL;
	//Ѱ������������ͨ��
	// Ѱ�������ĵİ�����
	for (int i = 1; i <= white_range[istart].num; i++)
		if (white_range[istart].area[i].left <= CAMERA_W / 2 && white_range[istart].area[i].right >= CAMERA_W / 2 && (white_range[istart].area[i].right - white_range[istart].area[i].left) >= 90)
			road_f = IMAGE_Find_FatherNode(white_range[istart].area[i].connect_num);

	if (road_f == -1) //������û���м䣬������һ��ѡһ�������Ϊ���������?
	{
		int widthmax = 0, jselect = 1;
		for (int i = 1; i <= white_range[istart].num; i++)
			if (white_range[istart].area[i].right - white_range[istart].area[i].left > widthmax)
			{
				widthmax = white_range[istart].area[i].right - white_range[istart].area[i].left;
				jselect = i;
			}
		road_f = IMAGE_Find_FatherNode(white_range[istart].area[jselect].connect_num);
	}

	//���������Ѿ��õ�������������ͨ�򸸽ڵ��ţ������������и��ڵ�����road_f�����а������ӽ��������������?
	for (int i = istart; i >= iend; i--)
	{
		//�������棬����֮��д�������ҵ�Ч
		twhite_range = &white_range[i];
		tmy_road = &my_road[i];
		while_range_num = twhite_range->num;
		tmy_road->white_num = 0;
		roud_while_range_num = 0;
		for (int j = 1; j <= while_range_num; j++)
		{
			if (IMAGE_Find_FatherNode(twhite_range->area[j].connect_num) == road_f)
			{
				top_road = i;
				tmy_road->white_num++;
				roud_while_range_num++;
				tmy_road->connected[roud_while_range_num].left = twhite_range->area[j].left;
				tmy_road->connected[roud_while_range_num].right = twhite_range->area[j].right;
				tmy_road->connected[roud_while_range_num].width = twhite_range->area[j].right - twhite_range->area[j].left;
			}
		}
	}
}

/**************************************************************
*  @brief      return the connected white piece lable of next line
*  @param      i_start:
*  @param      j_start:
*  @since      v1.0
**************************************************************/
uint8_t IMAGE_FIND_NextLineWhitePieces(uint8_t i_start, uint8_t j_start)
{
	uint8_t j_return;
	uint8_t j;
	uint8_t width_max = 0;
	uint8_t width_new = 0;
	uint8_t left = 0;
	uint8_t right = 0;
	uint8_t dright, dleft, uright, uleft;
	j_return = MISS; //���û�ҵ������255
	if (j_start > my_road[i_start].white_num)
		return MISS;
	//ѡһ���ص�����
	for (j = 1; j <= my_road[i_start - 1].white_num; j++)
	{
		dleft = my_road[i_start].connected[j_start].left;
		dright = my_road[i_start].connected[j_start].right;
		uleft = my_road[i_start - 1].connected[j].left;
		uright = my_road[i_start - 1].connected[j].right;
		if ( //����
			dleft < uright &&
			dright > uleft)
		{
			//�����ص���С
			if (dleft < uleft)
				left = uleft;
			else
				left = dleft;

			if (dright > uright)
				right = uright;
			else
				right = dright;

			width_new = right - left + 1;

			if (width_new > width_max)
			{
				width_max = width_new;
				j_return = j;
			}
		}
	}
	return j_return;
}

/**************************************************************
*  @brief      Find Left and right
*  @param      img: img array
*  @since      v1.0
**************************************************************/
void IMAGE_FIND_Lines_LeftAndRight(uint8_t img[CAMERA_H][CAMERA_W])
{
	uint8_t i;
	uint8_t j;
	uint8_t j_continue[CAMERA_H]; //��һ����ͨ·��
	uint8_t i_start;
	uint8_t i_end;
	uint8_t j_start = MISS;
	int width_max;

	//Ѱ����ʼ������İ�����?
	i_start = STRATEGY_CURRENT_LOWER_LIMITS;
	i_end = STRATEGY_CURRENT_UPPER_LIMITS;
	width_max = 0;
	for (j = 1; j <= my_road[i_start].white_num; j++)
	{
		if (my_road[i_start].connected[j].width > width_max)
		{
			width_max = my_road[i_start].connected[j].width;
			j_start = j;
		}
	}
	j_continue[i_start] = j_start;

	//��¼����������
	for (i = i_start; i > i_end; i--)
	{
		//���������Ŵ��ڸ��а����������������Ӵ�֮��MISS
		if (j_continue[i] > my_road[i].white_num)
		{
			j_continue[i - 1] = MISS;
		}
		else
		{
			j_continue[i - 1] = IMAGE_FIND_NextLineWhitePieces(i, j_continue[i]);
		}
	}

	//ȫ����ʼ��ΪMISS
	memset(left_line, MISS, CAMERA_H);
	memset(right_line, MISS, CAMERA_H);

	for (i = i_start; i > i_end; i--)
	{
		if (j_continue[i] <= my_road[i].white_num)
		{
			left_line[i] = my_road[i].connected[j_continue[i]].left;
			right_line[i] = my_road[i].connected[j_continue[i]].right;
			img[i][left_line[i]] = COLOR_BLUE;
			img[i][right_line[i]] = COLOR_RED;
		}
		else
		{
			left_line[i] = MISS;
			right_line[i] = MISS;
		}
	}
}

/**************************************************************
*  @brief      Find mid
*  @since      v1.0
**************************************************************/
void IMAGE_FIND_Lines_Mid(void)
{
	view_far = 0;
	memset(mid_line, MISS, CAMERA_H);

	for (int i = STRATEGY_CURRENT_LOWER_LIMITS; i >= STRATEGY_CURRENT_UPPER_LIMITS; i--)
		if (left_line[i] != MISS)
		{
			mid_line[i] = (left_line[i] + right_line[i]) / 2;
		}
		else
		{
			mid_line[i] = MISS;
		}

	//the following :fix mid

	// float k = (mid_line[110] - mid_line[119]) / 10;
	// if (k > 0.5)
	// 	k = 1;

	//Exception : Midline Err mbor

	// int delta;
	// for (int i = STRATEGY_CURRENT_LOWER_LIMITS - 1; i >= STRATEGY_CURRENT_UPPER_LIMITS; i--)
	// {
	// 	delta = mid_line[i] - mid_line[i + 1];
	// 	if (abs(delta) >= 9)
	// 	{
	// 		//reject
	// 		mid_line[i] = MISS;
	// 	}
	// }
}

/**************************************************************
*  @brief      Find First Pair of Corner (and mark it)
*  @since      v1.0
**************************************************************/
void IMAGE_FIND_CornerFirstPair(uint8_t img[CAMERA_H][CAMERA_W])
{
	//left
	for (int i = STRATEGY_CURRENT_LOWER_LIMITS - 1; i >= STRATEGY_CURRENT_UPPER_LIMITS; i--)
	{
		if (abs(left_line[i] - left_line[i + 1]) > 2)
		{

			img[i][left_line[i + 1]] = COLOR_PURPLE;
			l_limit_x = left_line[i + 1];
			l_limit_y = i + 1;
			break;
		}
	}

	//right
	for (int i = STRATEGY_CURRENT_LOWER_LIMITS - 1; i >= STRATEGY_CURRENT_UPPER_LIMITS; i--)
	{
		if (abs(right_line[i] - right_line[i + 1]) > 2)
		{

			img[i][right_line[i + 1]] = COLOR_PURPLE;
			r_limit_x = right_line[i + 1];
			r_limit_y = i + 1;
			break;
		}
	}

	//get the valid end of auto mid
	true_end_y = r_limit_y > l_limit_y ? r_limit_y : l_limit_y;

	//get approx k of mid line in the cross
	float tmp = 0;
	if (r_limit_y != l_limit_y)
	{
		tmp = (r_limit_x - l_limit_x) / (r_limit_y - l_limit_y);
	}
	else
	{
		tmp = INFINITY;
	}

	k_midline = 1 / tmp;

	if (isCross == 1)
	{
		k_midline_last = k_midline;
	}
	else
	{
		if (abs(k_midline_last - k_midline) > 0.015)
		{
			//reject
			k_midline = k_midline_last;
		}
		else
		{
			k_midline_last = k_midline;
		}
	}
}

/**************************************************************
*  @brief      Fix Midline in the cross
*  @since      v1.0
**************************************************************/
void IMAGE_FIX_MidLineCross(uint8_t img[CAMERA_H][CAMERA_W])
{
	int i = true_end_y - 1;
	for (i; i >= 1; i--)
	{
		mid_line[i] = mid_line[true_end_y] - (i - true_end_y) * k_midline;
	}
}

/**************************************************************
*  @brief      main img proc
*  @param		img:img array
*  @since      v1.0
**************************************************************/
void IMAGE_PROC_Main(uint8_t img[CAMERA_H][CAMERA_W])
{
	element_init();
	IMAGE_RemoveCarHead(img);

	IMAGE_SearchWhiteRange(img);
	IMAGE_FIND_AllConnect();
	IMAGE_FIND_ROAD();

	for (int i = STRATEGY_CURRENT_UPPER_LIMITS - 1; i < STRATEGY_CURRENT_LOWER_LIMITS; i++)
		for (int j = STRATEGY_CURRENT_LEFT_LIMITS; j <= STRATEGY_CURRENT_RIGHT_LIMITS; j++)
		{
			img[i][j] = COLOR_BLACK;
		}

	for (int i = 0; i < 119; i++)
		for (int j = 1; j <= my_road[i].white_num; j++)
			for (int k = my_road[i].connected[j].left; k <= my_road[i].connected[j].right; k++)
				img[i][k] = COLOR_GRAY;

    //straight_two_line();
	//Detect Road type
	IMAGE_COUNT_OverallWhite(img);
	//////////////////////////
        find_x_right_left();
	x_left_straight =define_straight_line(x_left,100,10);
	x_right_straight = define_straight_line(x_right, 100, 10);

	//////////////////////////////
	//traditional type of road
	IMAGE_FIND_Lines_LeftAndRight(img);
	IMAGE_FIND_Lines_Mid();

	/*
	for (int i = STRATEGY_CURRENT_UPPER_LIMITS - 1; i < STRATEGY_CURRENT_LOWER_LIMITS; i++)
	{
		img[i][left_line[i]] = COLOR_BLUE;
		img[i][right_line[i]] = COLOR_RED;
	}
	*/
	//IMAGE_FIND_Corner(img);

	//if Cross:
	//draw first pair of conner
	if (isCross != 0)
	{
		IMAGE_FIND_CornerFirstPair(img);
		IMAGE_FIX_MidLineCross(img);
	}

	//get valid view
	for (int i = STRATEGY_CURRENT_LOWER_LIMITS; i >= STRATEGY_CURRENT_UPPER_LIMITS; i--)
	{
		if (mid_line[i] != MISS)
		{
			//img[i][mid_line[i]] = COLOR_GREEN;
			view_far = i;
			view_Deviation = mid_line[i];
		}
	}

	if (Control_timenow >= 500)
	{
		Stop_Car();
		Find_Zebra_Crossing();
	}

	if (isCross == 1)
	{
		img[true_end_y][mid_line[true_end_y]] = COLOR_WHITE;
		view_far = true_end_y;
		view_Deviation = mid_line[true_end_y];
	}

	if (view_far > 100)
	{
		int tmp = mid_line[119] * 0.1 + 93 * 0.9;
		for (int i = STRATEGY_CURRENT_LOWER_LIMITS; i >= STRATEGY_CURRENT_UPPER_LIMITS; i--)
			mid_line[i] = tmp;
	}

	//draw fix midline
	for (int i = STRATEGY_CURRENT_LOWER_LIMITS; i >= STRATEGY_CURRENT_UPPER_LIMITS; i--)
	{
		if (mid_line[i] != MISS)
		{
			img[i][mid_line[i]] = COLOR_GREEN;
		}
	}

	// printf("[Statistics] view:	%3d, Deviation:	%3d\n", view_far,view_Deviation);
	// printf("[Statistics] Conners:(%3d,%3d),(%3d,%3d),	mid x increase per y =  %.6f\n\n", l_limit_x,l_limit_y,r_limit_x,r_limit_y,k_midline);
}

/***	internal use only	***/

/**************************************************************
*  @brief      get white pixel distribution
*  @param		img:img array
*  @since      v1.0
*  @note		2x2 and 3x3 distribution check
**************************************************************/
void IMAGE_COUNT_OverallWhite(uint8_t img[CAMERA_H][CAMERA_W])
{
	int i, j;

	Count_White_Overall = 0;
	Count_White_UpLeft = 0;
	Count_White_UpRight = 0;
	Count_White_DownLeft = 0;
	Count_White_DownRight = 0;

	for (i = 119; i >= 60; i--)
	{
		for (j = 0; j <= 94; j++)
		{
			if (img[i][j] == COLOR_GRAY)
			{
				Count_White_Overall++;
				Count_White_DownLeft++;
			}
		}
	}

	for (i = 119; i >= 60; i--)
	{
		for (j = 95; j <= 187; j++)
		{
			if (img[i][j] == COLOR_GRAY)
			{
				Count_White_Overall++;
				Count_White_DownRight++;
			}
		}
	}

	for (i = 59; i >= 0; i--)
	{
		for (j = 0; j <= 94; j++)
		{
			if (img[i][j] == COLOR_GRAY)
			{
				Count_White_Overall++;
				Count_White_UpLeft++;
			}
		}
	}

	for (i = 59; i >= 0; i--)
	{
		for (j = 95; j <= 187; j++)
		{
			if (img[i][j] == COLOR_GRAY)
			{
				Count_White_Overall++;
				Count_White_UpRight++;
			}
		}
	}

	//3x3
	// for (i = 0; i <= 2; i++)
	// 	for (j = 0; j <= 2; j++)
	// 		Count_White_3x3[i][j] = 0;

	// for (i = 0;i<=40;i++)
	// {
	// 	for (j = 0; j <= 62; j++)
	// 	{
	// 		if (img[i][j] == COLOR_GRAY)
	// 		{
	// 			Count_White_3x3[0][0]++;
	// 		}
	// 	}
	// }
	// for (i = 0; i <= 40; i++)
	// {
	// 	for (j = 63; j <= 125; j++)
	// 	{
	// 		if (img[i][j] == COLOR_GRAY)
	// 		{
	// 			Count_White_3x3[0][1]++;
	// 		}
	// 	}
	// }
	// for (i = 0; i <= 40; i++)
	// {
	// 	for (j = 126; j <= 187; j++)
	// 	{
	// 		if (img[i][j] == COLOR_GRAY)
	// 		{
	// 			Count_White_3x3[0][2]++;
	// 		}
	// 	}
	// }

	// for (i = 41; i <= 80; i++)
	// {
	// 	for (j = 0; j <= 62; j++)
	// 	{
	// 		if (img[i][j] == COLOR_GRAY)
	// 		{
	// 			Count_White_3x3[1][0]++;
	// 		}
	// 	}
	// }
	// for (i = 41; i <= 80; i++)
	// {
	// 	for (j = 63; j <= 125; j++)
	// 	{
	// 		if (img[i][j] == COLOR_GRAY)
	// 		{
	// 			Count_White_3x3[1][1]++;
	// 		}
	// 	}
	// }
	// for (i = 41; i <= 80; i++)
	// {
	// 	for (j = 126; j <= 187; j++)
	// 	{
	// 		if (img[i][j] == COLOR_GRAY)
	// 		{
	// 			Count_White_3x3[1][2]++;
	// 		}
	// 	}
	// }

	// for (i = 81; i <= 119; i++)
	// {
	// 	for (j = 0; j <= 62; j++)
	// 	{
	// 		if (img[i][j] == COLOR_GRAY)
	// 		{
	// 			Count_White_3x3[2][0]++;
	// 		}
	// 	}
	// }
	// for (i = 81; i <= 119; i++)
	// {
	// 	for (j = 63; j <= 125; j++)
	// 	{
	// 		if (img[i][j] == COLOR_GRAY)
	// 		{
	// 			Count_White_3x3[2][1]++;
	// 		}
	// 	}
	// }
	// for (i = 81; i <= 119; i++)
	// {
	// 	for (j = 126; j <= 187; j++)
	// 	{
	// 		if (img[i][j] == COLOR_GRAY)
	// 		{
	// 			Count_White_3x3[2][2]++;
	// 		}
	// 	}
	// }

	isCross = 0;

	// printf("[Statistics] Overall white pixel: %5d of 22372			",Count_White_Overall);

	if (Count_White_Overall > 14600)
	{
		//printf("Cross Checked!");
		isCross++;
//		Beep_On(GPIOA, 11);
//		DELAY_MS(5);
//		Beep_Off(GPIOA, 11);
	}
	else
	{
		isCross = 0;
		k_midline = 0;
		k_midline_last = 0;
	}
	//
	//	if (Count_White_Overall > 14500)
	//	{
	//		//printf("Cross Checked!");
	//		isCross++;
	//	}
	//	else
	//	{
	//		isCross = 0;
	//		k_midline = 0;
	//		k_midline_last = 0;
	//	}
	// printf("\n");

	// printf("[Statistics] Distribution[    %5d    %5d    ]	[	%5d   %5d   %5d  ] \n",Count_White_UpLeft,Count_White_UpRight, Count_White_3x3[0][0], Count_White_3x3[0][1], Count_White_3x3[0][2]);
	// printf("[Statistics] Distribution[    %5d    %5d    ]	[	%5d   %5d   %5d  ]\n",Count_White_DownLeft,Count_White_DownRight, Count_White_3x3[1][0], Count_White_3x3[1][1], Count_White_3x3[1][2]);
	// printf("[Statistics] Distribution[                      ]   	[	%5d   %5d   %5d  ] \n", Count_White_3x3[2][0], Count_White_3x3[2][1], Count_White_3x3[2][2]);
}

// /**************************************************************
// *  @brief      Find Corner (and mark it)
// *  @since      v1.0
// **************************************************************/
// void IMAGE_FIND_Corner(uint8_t img[CAMERA_H][CAMERA_W])
// {
// 	int sum;
// 	for (int i = STRATEGY_CURRENT_LOWER_LIMITS-2; i >= STRATEGY_CURRENT_UPPER_LIMITS+1; i--)
// 	{
// 		sum = img[i-1][left_line[i]]+img[i-1][left_line[i]-1]+img[i-1][left_line[i]+1]+img[i][left_line[i]-1]+img[i][left_line[i]+1]+img[i+1][left_line[i]]+img[i+1][left_line[i]-1]+img[i+1][left_line[i]+1];
// 		if(sum == 5)
// 			img[i][left_line[i]] = COLOR_PURPLE;
// 	}
// }

// /**************************************************************
// *  @brief      Find Midline
// *  @param       array: source array
// *  @since      v1.0
// *  Sample usage:		IMAGE_FIND_Mid(image_Proc);
// **************************************************************/
// void IMAGE_FIND_Mid(uint8_t array[CAMERA_H][CAMERA_W])
// {
// 	int i, j;
// 	int focus = 0;		//0 is on,1 is off
// 	int temp_left, temp_right = 0;
// 	int temp_LaneWidthMax = 188;
// 	int isFindLaneStandard = 0;
// 	uint8_t* Pixel = NULL;

// 	//1.Set a standard for mid line
// 	Pixel = &array[119][0];
// 	for (j = STRATEGY_CURRENT_LEFT_LIMITS; j <= STRATEGY_CURRENT_RIGHT_LIMITS; j++)
// 	{
// 		if (*Pixel == COLOR_WHITE)
// 		{
// 			if (focus == 0)
// 			{
// 				focus = 1;
// 				temp_left = j;
// 			}
// 		}

// 		if ((focus == 1) && (array[STRATEGY_CURRENT_LOWER_LIMITS][j] == 0))
// 		{
// 			temp_right = j;
// 			focus = 0;
// 			if (temp_right - temp_left < temp_LaneWidthMax && temp_right - temp_left>40)
// 			{
// 				left_line[STRATEGY_CURRENT_LOWER_LIMITS] = temp_left-1;
// 				right_line[STRATEGY_CURRENT_LOWER_LIMITS] = temp_right;
// 				isFindLaneStandard = 1;
// 			}
// 		}

// 		Pixel++;
// 	}

// 	if (isFindLaneStandard == 1)
// 	{
// 		//update Lane last location
// 		LaneLastLoc.left = left_line[STRATEGY_CURRENT_LOWER_LIMITS];
// 		LaneLastLoc.right = right_line[STRATEGY_CURRENT_LOWER_LIMITS];
// 		LaneLastLoc.mid = mid_line[STRATEGY_CURRENT_LOWER_LIMITS];

// 		//save mid
// 		mid_line[STRATEGY_CURRENT_LOWER_LIMITS] = (left_line[STRATEGY_CURRENT_LOWER_LIMITS] + right_line[STRATEGY_CURRENT_LOWER_LIMITS]) / 2;

// 		array[119][(left_line[STRATEGY_CURRENT_LOWER_LIMITS] + right_line[STRATEGY_CURRENT_LOWER_LIMITS]) / 2] = COLOR_GREEN;
// 		array[119][left_line[STRATEGY_CURRENT_LOWER_LIMITS]] = COLOR_BLUE;
// 		array[119][right_line[STRATEGY_CURRENT_LOWER_LIMITS]] = COLOR_RED;

// 	}
// 	else
// 	{
// 		//use old data
// 		left_line[STRATEGY_CURRENT_LOWER_LIMITS] = LaneLastLoc.left;
// 		right_line[STRATEGY_CURRENT_LOWER_LIMITS] = LaneLastLoc.right;
// 		mid_line[STRATEGY_CURRENT_LOWER_LIMITS] = LaneLastLoc.mid;
// 	}

// 	//2. find all others
// 	for()
// 	Pixel = &array[119][0];
// 	for (j = STRATEGY_CURRENT_LEFT_LIMITS; j <= STRATEGY_CURRENT_RIGHT_LIMITS; j++)
// 	{
// 		if (*Pixel == COLOR_WHITE)
// 		{
// 			if (focus == 0)
// 			{
// 				focus = 1;
// 				temp_left = j;
// 			}
// 		}

// 		if ((focus == 1) && (array[STRATEGY_CURRENT_LOWER_LIMITS][j] == 0))
// 		{
// 			temp_right = j;
// 			focus = 0;
// 			if (temp_right - temp_left < temp_LaneWidthMax && temp_right - temp_left>40)
// 			{
// 				left_line[STRATEGY_CURRENT_LOWER_LIMITS] = temp_left - 1;
// 				right_line[STRATEGY_CURRENT_LOWER_LIMITS] = temp_right;
// 				isFindLaneStandard = 1;
// 			}
// 		}

// 		Pixel++;
// 	}

// }

uint8_t otsuThreshold(uint8_t img[CAMERA_H][CAMERA_W])
{
	uint8_t T = 0; //��ֵ
	int height = CAMERA_H;
	int width = CAMERA_W;
	//int step   = img->widthStep;              		//int step   = img->widthStep;
	//uint8_t* data  = (uint8_t*)img->imadoublegeData;		//uint8_t* data  = (uint8_t*)img->imageData;
	float gSum0;					 //��һ��Ҷ����?
	float gSum1;					 //�ڶ���Ҷ����?
	float N0 = 0;					 //ǰ��������
	float N1 = 0;					 //����������
	float u0 = 0;					 //ǰ������ƽ���Ҷ�
	float u1 = 0;					 //��������ƽ���Ҷ�
	float w0 = 0;					 //ǰ�����ص���ռ����ͼ��ı����?��0
	float w1 = 0;					 //�������ص���ռ����ͼ��ı����?��1
	float u = 0;					 //��ƽ���Ҷ�
	float tempg = -1;				 //��ʱ��䷽��?
	float g = -1;					 //��䷽��?
	float Histogram[256] = {0};		 // = new double[256];//�Ҷ�ֱ��ͼ
	float N = 22560;				 //��������
	for (int i = 0; i < height; i++) //����ֱ��ͼ
	{

		for (int j = 0; j < width; j++)
		{
			double temp = img[i][j];
			temp = temp < 0 ? 0 : temp;
			temp = temp > 255 ? 255 : temp;
			Histogram[(int)temp]++;
		}
	}
	//������ֵ
	for (int i = 0; i < 256; i++)
	{
		gSum0 = 0;
		gSum1 = 0;
		N0 += Histogram[i];
		N1 = N - N0;
		if (0 == N1)
			break; //������ǰ�������ص�ʱ������ѭ��
		w0 = N0 / N;
		w1 = 1 - w0;
		for (int j = 0; j <= i; j++)
		{
			gSum0 += j * Histogram[j];
		}
		u0 = gSum0 / N0;
		for (int k = i + 1; k < 256; k++)
		{
			gSum1 += k * Histogram[k];
		}
		u1 = gSum1 / N1;
		//u = w0*u0 + w1*u1
		g = w0 * w1 * (u0 - u1) * (u0 - u1);
		if (tempg < g)
		{
			tempg = g;
			T = i;
		}
	}
	return T;
}

/**************************************************************
*  @brief      ������ͣ��
*  @param		img:
*  @since      v1.0
*  @note
**************************************************************/
void Stop_Car(void)
{
  int a=0;//��������

  for (size_t i = STRATEGY_CURRENT_LOWER_LIMITS; i >STRATEGY_CURRENT_UPPER_LIMITS ; i--)
  {
    if(whitenum[i]>=10)
    {
      a++;
    }
  }

  if(a>=5)
  {
    Stop_Car_flag++;
  }

  if(Stop_Car_flag>=2)
  {
    Stop_Car_flag=2;
  }
}
/**************************************************************
*  @brief      Ѱ�Ұ�����
*  @param		img:
*  @since      v1.0
*  @note
**************************************************************/
void Find_Zebra_Crossing(void)
{
  int a=0;//��������

  for (size_t i = STRATEGY_CURRENT_LOWER_LIMITS; i >STRATEGY_CURRENT_UPPER_LIMITS ; i--)
  {
    if(whitenum[i]>=10)
    {
      a++;
    }
  }

  if(a>=5)
  {
    Flag_Find++;
  }

  if(Flag_Find>=2)
  {
    Flag_Find=2;
  }
  if(a<5)
  {
	Flag_Find=0;
  }
}

void element_init(void)
{
	memset(mid_line, MISS, 120);
	memset(left_line, MISS, 120);
	memset(right_line, MISS, 120);
	memset(left_smooth, MISS, 120);
	memset(right_smooth, MISS, 120);
	mood.acceleration = 0;
	mood.cross = 0;
	mood.straight = 0;

}



void find_x_right_left(void)
{
	uint8_t i_start, i_end;
	i_start = STRATEGY_CURRENT_LOWER_LIMITS;
	i_end = STRATEGY_CURRENT_UPPER_LIMITS;
	memset(my_road_num, MISS, 120);

	for (uint8_t i = i_start; i >= i_end; i--)
	{
		my_road_num[i] = define_my_way(i);
	}

	for (uint8_t i = i_start; i >= i_end; i--)
	{
		if (my_road_num[i] == 0)
		{
			x_left[i] = MISS;
			x_right[i] = MISS;
		}
		else
		{
			x_left[i] = my_road[i].connected[my_road_num[i]].left;
			x_right[i] = my_road[i].connected[my_road_num[i]].right;
		}

	}
}


//////////////////////////////////////////////
////���ܣ�Ѱ�ҵ�ǰ�����������Ҫ�н������İ������
////���룺����
////������������
////��ע����
///////////////////////////////////////
uint8_t define_my_way(uint8_t line)
{
    road* tmy_road = NULL;
	uint8_t  my_way_num;
	uint8_t distance = 188;
	my_way_num = 0;
	tmy_road = &my_road[line];
	uint8_t max_way = 0, max_way_num = 0;
	uint8_t last_line;
	last_line = last_mid_line[line];
	if (my_road[line].white_num >= 2)
	{
		for (uint8_t j = 1; j <= tmy_road->white_num; j++)
		{
			if (tmy_road->connected[j].left <= last_mid_line[line] && tmy_road->connected[j].right >= last_mid_line[line])
			{
				if (tmy_road->connected[j].width > 20)
				{
					my_way_num = j;
					break;
				}
			}
		}



		if (my_way_num == 0)
		{
			for (uint8_t j = 1; j <= tmy_road->white_num; j++)
			{
				if (tmy_road->connected[j].width >= max_way)
				{
					max_way = tmy_road->connected[j].width;
					max_way_num = j;
				}
				my_way_num = max_way_num;
				/*if (abs(last_mid_line[line] - (tmy_road->connected[j].left + tmy_road->connected[j].right) / 2) < distance)
					{
						distance = abs(last_mid_line[line] - (tmy_road->connected[j].left + tmy_road->connected[j].right) / 2);
						my_way_num = j;
					}*/
			}
		}
	}
	else if (my_road[line].white_num == 1)
	{
		my_way_num = 1;
	}
	else my_way_num = 0;
	return my_way_num;
}

////////////////////////////////////////////
//���ܣ�ȷ���ǲ���ֱ��
//���룺����ָ�룬��ʼ�У���ֹ��
//�����0---��ֱ  1---ֱ  2---����ֱ��
//��ע������50Ϊֱ���ķֽ���
///////////////////////////////////////////
uint8_t define_straight_line(uint8_t* line, uint8_t start_line, uint8_t end_line)
{
	uint8_t i_start, i_end;
	uint8_t i;
	for (i = end_line; i <= 15; i++)
	{
		if (*(line + i) != MISS)  break;
	}
	if (i == 15) return 0;

	i_start = start_line;
	i_end = i;

	int x1, x2;
	int y1, y2;
	int delta_x, delta_y;
	float k, b;
	int output, add_square = 0;
	float variance;

	x1 = start_line;
	x2 = i;
	y1 = *(line + start_line);
	y2 = *(line + i);

	delta_x = x1 - x2;
	delta_y = y1 - y2;
	k = (float)delta_y / (float)delta_x;
	b = y1 - (float)x1 * k;

	for (i = i_start; i >= i_end; i--)
	{
		output = k * i + b; //��
		//IMG[i][output] = red;
		output = output - *(line + i);//��
		output *= output;//ƽ��
		add_square = add_square + output;//�ۼ�
	}

	variance = (float)add_square / (float)(i_start - i_end);//����
	//printf("���%f\n", variance);
	if (variance <= 50) return 1;
	else if (variance > 50 && variance < 100) return 2;
	else return 0;
}



void map(void)
{
	int i;
	int j;
	uint8_t* pp = NULL;
	uint8_t* ss = NULL;
	pp = &left_side[0];
	ss = &right_side[0];
	uint8_t* str = NULL;
	uint8_t* ptr = NULL;
	str = &image_Proc[0][0];//变换后数组 img=IMG=image_Proc
	ptr = &img_original[0][0];//变换前数组
	uint8_t* pptr = NULL;
	uint8_t* sstr = NULL;
	pptr = &i_fix[0];
	sstr = &j_fix[0][0];
	int j_begin, j_end;
	uint8_t* tstr = NULL;
	uint8_t* tsstr = NULL;
	uint8_t* tptr = NULL;
	for (i = 0; i < CAMERA_H; i++)
	{
		j_begin = *(pp + i);
		j_end = *(ss + i);
		tstr = str + i * 188;
		tsstr = sstr + i * 188;
		tptr = ptr + *(pptr + i) * 188;
		for (j = j_begin; j <= j_end; j++)
		{
			*(tstr + j) = *(tptr + *(tsstr + j));
		}
	}

}


/**************************************************************
*  @brief      make a img from array : OLED version
*  @param      src: source image arr
*  @param      dst: dst image arr
*  @since      v1.0
*  Sample usage:
**************************************************************/
void IMAGE_Array2Image_OLED(uint8_t src[CAMERA_H][CAMERA_W], uint8_t dst[CAMERA_H][CAMERA_W])
{
	int i, j;
	for (i = 0; i < CAMERA_H; i++)
	{
		uint8_t *srcPixel = NULL;
		uint8_t *dstPixel = NULL;
		srcPixel = &src[i][0];
		dstPixel = &dst[i][0];
		for (j = 0; j < CAMERA_W; j++)
		{
			if (*(srcPixel) == COLOR_WHITE)
				*dstPixel = 255;
			else if (*(srcPixel) == COLOR_BLACK)
				*dstPixel = 0;
			else if (*(srcPixel) == COLOR_GREEN)
				*dstPixel = 0;
			else if (*(srcPixel) == COLOR_GRAY)
				*dstPixel = 255;
			// if (*(srcPixel) == COLOR_BLUE)
			// if (*(srcPixel) == COLOR_RED)
			// 		Pixel_Color = col_red;
			// if (*(srcPixel) == COLOR_PURPLE)
			// 		Pixel_Color = col_purple;

			srcPixel++;
			dstPixel++;
		}
	}
}

/**************************************************************
*  @brief      Binarize image
*  @param      src: source image arr
*  @param      dst: dst image arr
*  @since      v1.0
*  Sample usage:
**************************************************************/
void IMAGE_COLOR_Gray2Binary(uint8_t src[CAMERA_H][CAMERA_W], uint8_t dst[CAMERA_H][CAMERA_W])
{
	uint8_t *Pixel;
	uint8_t *Bi_Pixel;

	if (data[data_identifier].auto_threshold == 1)
	{
		threshold = otsuThreshold(src);
	}

	//Update OLED
	Str_Clr(96, 3, 4);
	OLED_Print_Num(96, 3, threshold);

	for (int i = 0; i < CAMERA_H; i++)
	{
		Pixel = &src[i][0];
		Bi_Pixel = &dst[i][0];
		for (int j = 0; j < CAMERA_W; j++)
		{
			if ((*Pixel) > threshold)
				(*Bi_Pixel) = COLOR_WHITE;
			else
				(*Bi_Pixel) = COLOR_BLACK;
			Pixel++;
			Bi_Pixel++;
		}
	}
}


void THRE(uint8_t src[CAMERA_H][CAMERA_W], uint8_t dst[CAMERA_H][CAMERA_W])
{
	uint8_t* map;
	uint8_t* my_map;
	for (int i = 0; i <= 30; i++)
	{
		map = &src[i][0];//src[i][0];=image_Buffer_0[i][0]=image_Buffer_0
		my_map = &dst[i][0];//dst[i][0]=img_original[i][0]=image_Proc
		for (int j = 0; j < 40; j++)
		{
			if ((*map) > threshold3)
				(*my_map) = 1;
			else (*my_map) = 0;
			map++;
			my_map++;
		}
		for (int j = 41; j < 148; j++)
		{
			if ((*map) > threshold1)
				(*my_map) = 1;
			else (*my_map) = 0;
			map++;
			my_map++;
		}
		for (int j = 149; j < 187; j++)
		{
			if ((*map) > threshold3)
				(*my_map) = 1;
			else (*my_map) = 0;
			map++;
			my_map++;
		}
	}
	for (int i = 31; i < 119; i++)
	{
		map = &src[i][0];
		my_map = &dst[i][0];
		for (int j = 0; j < 188; j++)
		{
			if ((*map) > threshold2)
				(*my_map) = 1;
			else (*my_map) = 0;
			map++;
			my_map++;
		}
	}
}

////////////////////////////////////////////
//功能：确定赛道类型
//输入：
//输出：
//备注：
///////////////////////////////////////////
uint8_t define_road_type(void)
{

	if (tell_circle_stage_one())//环岛阶段一：远距离看环岛
	{
		circle_stage_one_flag++;
		return circle_flag_stage_one;
	}

	//printf("1\n");
	if (tell_circle_stage_two() && circle_stage_two_flag<=5)//环岛阶段二：走到环岛出口
	{
		circle_stage_two_flag++;
		//printf("2\n");
		return circle_flag_stage_two;
	}

	//出现阶段二连续5帧之后，进入环岛模式，除非检测到出口，否则不能退出
	//printf("3\n");
	//精确保证了入环时刻 环岛入口出现20行时进入阶段三，即入环时刻
	if (tell_circle_stage_three() && if_stage_3 == 1)//环岛阶段三：走到环岛入口
	{
		//printf("4\n");
		mood.circle = 1;
		circle_stage_three_flag = 5;

		return circle_flag_stage_three;
	}
	else if (if_stage_3 == 0 && circle_stage_two_flag!=0)
	{
		//printf("5\n");
		mood.circle = 1;
		return circle_flag_stage_two;
	}

///	printf("6\n");
	//当环岛入口的折角到达50行时，退出阶段三，进入阶段四
	if (tell_circle_stage_four())//环岛阶段四：环岛入口和绕环交界处（过渡）
	{
		mood.circle = 1;
		circle_stage_four_flag = 5;
		return circle_flag_stage_four;
	}

	//printf("7\n");
	if (tell_circle_stage_five())//环岛阶段五：绕环
	{
		mood.circle = 1;
		circle_stage_five_flag = 5;
		return circle_flag_stage_five;
	}


	else if (tell_circle_stage_seven())//环岛阶段七：T形出口
	{
		//printf("8\n");
		mood.circle = 1;
		circle_stage_seven_flag = 5;
		return circle_flag_stage_seven;
	}
	else if (tell_circle_stage_six())//环岛阶段六：绕环和T形出口交界处（过渡）
	{
		//printf("9\n");
		mood.circle = 1;
		circle_stage_six_flag = 5;
		return circle_flag_stage_six;
	}
	else if (tell_circle_stage_nine())//环岛阶段九：第二次过入口
	{
		//printf("10\n");
		mood.circle = 1;
		circle_stage_nine_flag = 5;

		return circle_flag_stage_nine;
	}
	//else if (tell_circle_stage_eight())//环岛阶段八：T形出口和第二次过入口交界处（过渡）
	//{
	//	mood.circle = 1;
	//	circle_stage_eight_flag = 5;
	//	return circle_flag_stage_eight;
	//}

	if (circle_stage_nine_flag)
	{
		//printf("11\n");
		circle_stage_one_flag = 0;
		circle_stage_two_flag = 0;
		circle_stage_three_flag = 0;
		circle_stage_four_flag = 0;
		circle_stage_five_flag = 0;
		circle_stage_six_flag = 0;
		circle_stage_seven_flag = 0;
		circle_stage_eight_flag = 0;
		circle_stage_nine_flag = 0;
		if_stage_3 = 0;
		mood.circle = 0;
	}

	if (tell_near_cross())
	{
		//printf("12\n");
		mood.cross = 1;
		return near_cross_road_flag;
	}
	else if (tell_cross())
	{
		//printf("13\n");
		mood.cross = 1;
		return cross_road_flag;
	}

	/*else if (tell_curve())
	{
		return curve_flag;
	}*/
	else
	{
		//printf("14\n");
		if (mood.circle != 1)//如果不是环岛模式，检测到straight标志量清零；若是环岛模式，则标志量不清零
		{
			//printf("16\n");
			circle_stage_one_flag = 0;
			circle_stage_two_flag = 0;
			circle_stage_three_flag = 0;
			circle_stage_four_flag = 0;
			circle_stage_five_flag = 0;
			circle_stage_six_flag = 0;
			circle_stage_seven_flag = 0;
			circle_stage_eight_flag = 0;
			circle_stage_nine_flag = 0;
			if_stage_3 = 0;
		}
		//printf("15\n");
		return straight_way_flag;
	}
}


////////////////////////////////////////////
//功能：识别环岛  阶段一  远看环岛
//输入：
//输出：0 不是环岛   1 是环岛
//备注：
///////////////////////////////////////////
bool tell_circle_stage_one(void)
{
	if (circle_stage_two_flag != 0 || circle_stage_four_flag!=0 || circle_stage_five_flag != 0
		|| circle_stage_six_flag != 0||circle_stage_seven_flag != 0 || circle_stage_nine_flag != 0)
	{
		return 0;
	}

	if (circle_stage_three_flag != 0)
	{
		return 0;
	}
	uint8_t i_start, i_end;
	i_start = NEAR_LINE;
	i_end = FAR_LINE;

	/**********************************************************************************
	***********************************************************************************/

	if (x_left_straight == 0 && x_right_straight == 1)//2020.3.19加
	{
		circle_inf.direction = 1;//左环
	}
	else if (x_left_straight == 1 && x_right_straight == 0)
	{
		circle_inf.direction = 2;//右环
	}
	else
	{
		return 0;
	}

	/**********************************************************************************
	***********************************************************************************/

	for (uint8_t i = 5; i >= 1; i--)
	{

		if (my_road[i].white_num == 0)
		{
			return 0;
		}
	}
	/**********************************************************************************
	***********************************************************************************/

	//白条长度判断
	uint8_t long_white_num_flag = 0;
	uint8_t white_length = 0;
	uint8_t tmy_road_num = 0;
	for (uint8_t i = i_start; i >= i_end; i--)
	{
		tmy_road_num = my_road_num[i];
		if (tmy_road_num == 0)//如果一行内无白条，认为此行白条以上没有可用赛道
		{
			break;
		}
		else
		{
			white_length = my_road[i].connected[tmy_road_num].width;
			//printf("%d %d\n",i, white_length);
			if (white_length >= 85 && i >= 30)
			{

				long_white_num_flag++;
				//printf("%d,%d,%d,%d\n",i, right_side[i] , left_line[i], white_length);
			}
		}
	}


	if (long_white_num_flag <= 10)
	{

		return 0;
	}
	else
	{
		;
	}

	/**********************************************************************************
	***********************************************************************************/
	//左右赛道求cos值平方

	int cosL[CAMERA_H] = { 0 };//余弦的平方左 扩大1000倍
	int cosR[CAMERA_H] = { 0 };//余弦的平方右 扩大1000倍
	int x1 = 0;
	int x2 = 0;
	int y2 = 0;

	i_start = NEAR_LINE - gap; //防止镜头畸变影响
	i_end = FAR_LINE + 2 * gap;

	y2 = gap * gap;
	for (uint8_t i = i_start; i >= i_end; i--)
	{
		//计算左侧余弦值平方
		x1 = (int)x_left[i - gap] - (int)x_left[i];
		x2 = (int)x_left[i] - (int)x_left[i + gap];
		cosL[i] = x1 * x2 + y2;
		cosL[i] *= cosL[i];
		cosL[i] = cosL[i] * 1000 / ((x1 * x1 + y2) * (x2 * x2 + y2));


		//计算右侧余弦值平方
		x1 = (int)x_right[i - gap] - (int)x_right[i];
		x2 = (int)x_right[i] - (int)x_right[i + gap];
		cosR[i] = x1 * x2 + y2;
		cosR[i] *= cosR[i];
		cosR[i] = cosR[i] * 1000 / ((x1 * x1 + y2) * (x2 * x2 + y2));

		//printf("行数：%d 左余弦：%d 右余弦：%d\n",i, cosL[i], cosR[i]);
		//printf("行数：%d 左边界：%d 右边界:%d \n", i, my_road[i].connected[my_road_num[i]].left, my_road[i].connected[my_road_num[i]].right);
	}

	/**********************************************************************************
	***********************************************************************************/

	int8_t Lflag = 0, Rflag = 0;
	int* lptr, * rptr;
	lptr = &cosL[0];
	rptr = &cosR[0];
	uint8_t bx;
	for (uint8_t i = i_start; i >= i_end; i--)
	{
		if (*(lptr + i) >= 800)
		{
			Lflag++;
		}
		if (*(lptr + i) <= 200)
		{
			Lflag = -1;
			bx = i;
			break;
		}
	}

	for (uint8_t i = i_start; i >= i_end; i--)
	{
		if (*(rptr + i) >= 800)
		{
			Rflag++;
		}
		if (*(rptr + i) <= 200)
		{
			Rflag = -1;
			bx = i;
			break;
		}
	}
	if (Lflag >= 95 && Rflag == -1)
	{

		circle_inf.direction = 2;
		circle_inf.Rbxstart = bx + 3;
		circle_inf.Lbxstart = bx + 3;
		return 1;
	}
	if (Rflag >= 95 && Lflag == -1)
	{

		circle_inf.direction = 1;
		circle_inf.Rbxstart = bx + 3;
		circle_inf.Lbxstart = bx + 3;
		return 1;
	}

	return 0;
}


////////////////////////////////////////////
//功能：识别环岛  阶段二  近看环岛
//输入：
//输出：0 不是环岛   1 是环岛
//备注：
///////////////////////////////////////////
bool tell_circle_stage_two(void)
{

	if (circle_stage_one_flag <= 5)
	{

		return 0;
	}

	if (circle_stage_three_flag != 0  || circle_stage_five_flag != 0
		|| circle_stage_six_flag != 0 || circle_stage_seven_flag != 0 || circle_stage_nine_flag != 0)
	{

		return 0;
	}

	/**********************************************************************************
	***********************************************************************************/
	if (x_left_straight == 0 && x_right_straight == 1) //2020.3.19加
	{
		circle_inf.direction = 1;//左环
	}
	else if (x_left_straight == 1 && x_right_straight == 0)
	{
		circle_inf.direction = 2;//右环
	}
	else
	{

		return 0;
	}
	/**********************************************************************************
	***********************************************************************************/
	uint8_t i_start, i_end;
	i_start = NEAR_LINE;
	i_end = 70;

	//环岛靠边行作为判据
	uint8_t Lflag = 0, Rflag = 0;
	for (uint8_t i = i_start; i >= i_end; i--)
	{
		if ((float)(right_side[i] - x_right[i]) / (float)(x_left[i] - left_side[i]) >= 3)//x_left[i] - left_side[i] <= 8 && right_side[i] - x_right[i] >= 20
		{
			Lflag++;
		}
		if ((float)(x_left[i] - left_side[i]) / (float)(right_side[i] - x_right[i]) >= 3)//right_side[i] - x_right[i] <= 8 && x_left[i] - left_side[i] >= 20
		{
			Rflag++;
		}
	}
	if (Lflag <= 10 && Rflag <= 10)
	{

		return 0;
	}
	if (Lflag > 10 && Rflag > 10)
	{

		return 0;
	}
	/**********************************************************************************
	***********************************************************************************/
	//uint8_t uwidth, dwidth;
	//i_start = 100;
	//i_end = FAR_LINE+15;
	//for (uint8_t i = i_start; i >= i_end; i--)
	//{
	//	uwidth = my_road[i - 1].connected[my_road_num[i - 1]].width;
	//	dwidth = my_road[i].connected[my_road_num[i]].width;
	//	if (dwidth - uwidth >= 25 && dwidth - uwidth <= 188)
	//	{
	//		printf("区分阶段三失败 %d（阶段二）\n",i);
	//		return 0;
	//	}
	//}


/**********************************************************************************
***********************************************************************************/
	int cosL[CAMERA_H] = { 0 };//余弦的平方左 扩大1000倍
	int cosR[CAMERA_H] = { 0 };//余弦的平方右 扩大1000倍
	int x1 = 0;
	int x2 = 0;
	int y2 = 0;
	i_start = NEAR_LINE - gap; //防止镜头畸变影响
	i_end = FAR_LINE + 2 * gap;
	uint8_t cosflag = 0;

	y2 = gap * gap;
	for (uint8_t i = i_start; i >= i_end; i--)
	{
		//计算右侧余弦值平方
		x1 = (int)x_right[i - gap] - (int)x_right[i];
		x2 = (int)x_right[i] - (int)x_right[i + gap];
		cosR[i] = x1 * x2 + y2;
		cosR[i] *= cosR[i];
		cosR[i] = cosR[i] * 1000 / ((x1 * x1 + y2) * (x2 * x2 + y2));



		//计算左侧余弦值平方
		x1 = (int)x_left[i - gap] - (int)x_left[i];
		x2 = (int)x_left[i] - (int)x_left[i + gap];
		cosL[i] = x1 * x2 + y2;
		cosL[i] *= cosL[i];
		cosL[i] = cosL[i] * 1000 / ((x1 * x1 + y2) * (x2 * x2 + y2));
		//printf("行数：%d 左余弦：%d 右余弦：%d\n",i, cosL[i], cosR[i]);

	}

	if (Lflag >= Rflag)
	{
		for (uint8_t i = i_start; i >= i_end; i--)
		{
			if (cosR[i] >= 800) cosflag++;
		}
	/*	if (cosflag > 90)
		{
			circle_inf.direction = 1;
		}*/
	}
	else
	{
		for (uint8_t i = i_start; i >= i_end; i--)
		{
			if (cosL[i] >= 800) cosflag++;
		}
		//if (cosflag > 90)
		//{
		//	circle_inf.direction = 2;
		//}
	}


	if (cosflag <= 90)
	{

		return 0;
	}
	return 1;

}

////////////////////////////////////////////
//功能：识别环岛  阶段三  近看入口
//输入：
//输出：0 不是环岛   1 是环岛
//备注：
///////////////////////////////////////////
bool tell_circle_stage_three(void)
{
	uint8_t i_start, i_end;

	if (circle_stage_one_flag <= 1 || circle_stage_two_flag <= 1)
	{

		return 0;
	}


	if (circle_stage_four_flag != 0 || circle_stage_five_flag != 0 || circle_stage_six_flag != 0
		|| circle_stage_seven_flag != 0 || circle_stage_eight_flag != 0)
	{
		return 0;
	}



	/**********************************************************************************
	***********************************************************************************/
	i_start = 30;
	i_end = FAR_LINE;
	uint8_t FAR_width_flag = 0;
	if (if_stage_3 == 0)
	{
		for (uint8_t i = i_start; i >= i_end; i--)
		{
			//printf("%d\n", x_right[i] - x_left[i]);
			if (x_right[i] - x_left[i] >= 80)
			{
				FAR_width_flag++;
			}
		}
		if (FAR_width_flag >= 20) if_stage_3 = 1;
		else
		{
			if_stage_3 = 0;
			return 0;
		}
	}


	uint8_t line_1 = x_right[1] - x_left[1];
	uint8_t ii = 1;
	for (ii; ii <= 60; ii++)
	{
		//printf("%d   %d\n", i, x_right[i] - x_left[i]);
		if (line_1 >= 50) break;
		if (x_right[ii] - x_left[ii] >= 55)//调参
		{
			break;
		}
	}
	//for (uint8_t j = left_side[ii]; j < right_side[ii]; j++) IMG[ii][j] = blue;
	//for (uint8_t j = left_side[50]; j < right_side[50]; j++) IMG[50][j] = blue;
	if (ii >= 50)
	{
		return 0;
	}
	////临时添加
	//uint8_t flag = 0;
	//for (uint8_t i = 113; i >= 100; i--)
	//{
	//	if (x_left[i] <= left_side[i] + 3 || x_right[i] >= right_side[i] - 3)
	//	{
	//		flag++;
	//	}
	//}
	//if (flag >= 5) return 0;
	/**********************************************************************************
	***********************************************************************************/

	i_start = NEAR_LINE;
	i_end = FAR_LINE;
	uint8_t Lflag = 0, Rflag = 0;
	for (uint8_t i = i_start; i >= i_end; i--)
	{
		if ((float)(right_side[i] - x_right[i]) / (float)(x_left[i] - left_side[i]) >= 3)//x_left[i] - left_side[i] <= 8 && right_side[i] - x_right[i] >= 20
		{
			Lflag++;
		}
		if ((float)(x_left[i] - left_side[i]) / (float)(right_side[i] - x_right[i]) >= 3)//right_side[i] - x_right[i] <= 8 && x_left[i] - left_side[i] >= 20
		{
			Rflag++;
		}
	}
	if (Lflag <= 10 && Rflag <= 10)
	{

		return 0;
	}
	else if (Lflag > 10 && Rflag > 10)
	{
		return 0;
	}

	/**********************************************************************************
	***********************************************************************************/

	//长白条大于 60 的至少10条
	uint8_t long_white_num_flag = 0;
	uint8_t white_length = 0;
	uint8_t tmy_road_num = 0;

	i_start = NEAR_LINE;
	i_end = FAR_LINE;
	for (uint8_t i = i_start; i >= i_end; i--)
	{
		tmy_road_num = my_road_num[i];
		if (tmy_road_num == 0)//如果一行内无白条，认为此行白条以上没有可用赛道
		{
			break;
		}
		else
		{
			white_length = my_road[i].connected[tmy_road_num].width;
			if (white_length >= 60)
			{
				long_white_num_flag++;
				//printf("%d,%d,%d,%d\n",i, right_side[i] , left_line[i], white_length);
			}
		}
	}
	if (long_white_num_flag <= 10)
	{

		return 0;
	}
	else
	{

	}


	uint8_t uwidth, dwidth;
	i_start = 10;
	i_end = 100;
	for (uint8_t i = i_start; i <= i_end; i++)
	{
		uwidth = my_road[i - 1].connected[my_road_num[i - 1]].width;
		dwidth = my_road[i].connected[my_road_num[i]].width;
		if (dwidth <= 188 && dwidth >= 40)//dwidth - uwidth >= 25 && dwidth - uwidth <= 188
		{
			circle_inf.Lbxstart = i;
			circle_inf.Rbxstart = i;
			break;
		}
	}


	return 1;
}

////////////////////////////////////////////
//功能：识别环岛  阶段四  入口和绕环的交界处
//输入：
//输出：0 不是环岛   1 是环岛
//备注：
///////////////////////////////////////////
bool tell_circle_stage_four(void)
{




	uint8_t white_flag = 0;
	for (uint8_t i = 60; i >= 1; i--)
	{
		if (x_left[i] == MISS)
		{
			white_flag++;
		}
		if (white_flag > 10)
		{
			return 0;
		}
	}
	//printf("%d\n", white_flag);

	//用标志量判断 2020.2.7
	if (circle_stage_one_flag != 0 && circle_stage_two_flag != 0 && circle_stage_three_flag != 0
		&& circle_stage_five_flag == 0)
	{
		return 1;
	}
	else
		return 0;


}

////////////////////////////////////////////
//功能：识别环岛  阶段五  绕环
//输入：
//输出：0 不是环岛   1 是环岛
//备注：
///////////////////////////////////////////
bool tell_circle_stage_five(void)
{
	//用标志量判断 2020.2.7
	if (circle_stage_one_flag == 0 || circle_stage_two_flag == 0
		|| circle_stage_three_flag == 0)
	{
		return 0;
	}

	if (circle_stage_seven_flag != 0 || circle_stage_six_flag != 0)//2020.2.15
	{
		return 0;
	}
	//绕环期间

	//2020.2.18 感觉没什么逻辑，但是能用
	for (uint8_t i = 60; i >= 1; i--)
	{
		if ((my_road[i].white_num == 0) ||
			(my_road[i].connected[my_road_num[i]].width <= 15))
		{
			return 1;
		}
	}
	return 0;

	//uint8_t white_flag = 0;
	//for (uint8_t i = 113; i >= 1; i--)
	//{
	//	if (my_road[i].white_num != 0)
	//	{
	//		white_flag++;
	//	}
	//	else
	//	{
	//		break;
	//	}
	//}
	////printf("%d\n", white_flag);
	//if (white_flag > 110)
	//{
	//	return 0;
	//}

	//return 1;
}

////////////////////////////////////////////
//功能：识别环岛  阶段六  绕环和T形路之间的过度阶段
//输入：
//输出：0 不是环岛   1 是环岛
//备注：
///////////////////////////////////////////
bool tell_circle_stage_six(void)
{
	if (circle_stage_five_flag == 0 || circle_stage_three_flag == 0 || circle_stage_two_flag == 0 || circle_stage_one_flag == 0)
	{
		return 0;
	}
	if (circle_stage_seven_flag != 0)
	{
		return 0;
	}
	return 1;
}

////////////////////////////////////////////
//功能：识别环岛  阶段七  T形路
//输入：
//输出：0 不是环岛   1 是环岛
//备注：
///////////////////////////////////////////
bool tell_circle_stage_seven(void)
{
	if (circle_stage_five_flag == 0 || circle_stage_three_flag == 0 || circle_stage_six_flag == 0)
	{
		return 0;
	}
	if (circle_stage_nine_flag != 0)
	{
		return 0;
	}
	////////////////T形路识别//////////////////////
	uint8_t i_start, i_end;
	uint8_t long_white_num = 0;
	i_start = NEAR_LINE;
	i_end = 31;
	for (uint8_t i = i_start; i >= i_end; i--)
	{
		if ( (x_right[i]-x_left[i]>=75) || (x_left[i] - left_side[i] <= 5 && right_side[i] - x_right[i] <= 5 && i<=90))
		{
			long_white_num++;
		}

	}

	if (long_white_num <= 10)
	{
		return 0;
	}

	uint8_t short_white_num = 0;
	i_start = 30;
	i_end = FAR_LINE;
	for (uint8_t i = i_start; i >= i_end; i--)
	{
		if (my_road[i].white_num == 0 ||
			(x_right[i] - x_left[i] <= 25))
		{
			short_white_num++;
		}
	}
	if (short_white_num <= 10)
	{

		return 0;
	}
	uint8_t dir = circle_inf.direction;
	if (dir == 1)//左
	{

		if (x_left_straight)
			return 0;
	}
	else if (dir == 2) //右环
	{

		if (x_right_straight)
			return 0;
	}

	return 1;
}

////////////////////////////////////////////
//功能：识别环岛  阶段八  出环
//输入：
//输出：0 不是环岛   1 是环岛
//备注：
///////////////////////////////////////////
bool tell_circle_stage_eight(void)
{
	if (circle_stage_seven_flag == 0 || circle_stage_five_flag == 0 || circle_stage_three_flag == 0 || circle_stage_two_flag == 0 || circle_stage_one_flag == 0)
	{
		return 0;
	}
	if (circle_stage_nine_flag != 0)
	{
		return 0;
	}
	return 1;
}

////////////////////////////////////////////
//功能：识别环岛  阶段九  出环完成，第二次通过环岛入口，直行
//输入：
//输出：0 不是环岛   1 是环岛
//备注：
///////////////////////////////////////////
bool tell_circle_stage_nine(void)
{
	uint8_t i_start, i_end;

	if (circle_stage_one_flag <= 1 || circle_stage_two_flag <= 1)
	{

		return 0;
	}


	if (circle_stage_four_flag == 0 || circle_stage_five_flag == 0 || circle_stage_seven_flag == 0)
	{

		return 0;
	}
	/**********************************************************************************
	***********************************************************************************/

	i_start = NEAR_LINE;
	i_end = 45;
	uint8_t Lflag = 0, Rflag = 0;
	for (uint8_t i = i_start; i >= i_end; i--)
	{
		if ( x_left[i] - left_side[i] <= 3)//x_left[i] - left_side[i] <= 8 && right_side[i] - x_right[i] >= 20
		{
			//printf("左：%d", i);
			Lflag++;
		}
		if ( right_side[i] - x_right[i] <= 3)//right_side[i] - x_right[i] <= 8 && x_left[i] - left_side[i] >= 20
		{
			//printf("右：%d", i);
			Rflag++;
		}
	}
	if (Lflag <= 10 && Rflag <= 10)
	{

		return 0;
	}
	//else if (Lflag > 10 && Rflag > 10)
	//{
	//	printf("环岛靠边行过多(阶段九)\n");
	//	return 0;
	//}
	/**********************************************************************************
	***********************************************************************************/

	//长白条大于 60 的至少10条
	uint8_t long_white_num_flag = 0;
	uint8_t white_length = 0;
	uint8_t tmy_road_num = 0;

	i_start = NEAR_LINE;
	i_end = 30;
	for (uint8_t i = i_start; i >= i_end; i--)
	{
		tmy_road_num = my_road_num[i];
		if (tmy_road_num == 0)//如果一行内无白条，认为此行白条以上没有可用赛道
		{
			break;
		}
		else
		{
			white_length = my_road[i].connected[tmy_road_num].width;
			if (white_length >= 55)
			{
				long_white_num_flag++;
				//printf("%d,%d,%d,%d\n",i, right_side[i] , left_line[i], white_length);
			}
		}
	}
	if (long_white_num_flag <= 10)
	{

		return 0;
	}
	else
	{
		;
	}

	/**********************************************************************************
	***********************************************************************************/
	uint8_t dir = circle_inf.direction;
	uint8_t cosflag = 0;
	int cosL[CAMERA_H] = { 0 };//余弦的平方左 扩大1000倍
	int cosR[CAMERA_H] = { 0 };//余弦的平方右 扩大1000倍
	int x1 = 0;
	int x2 = 0;
	int y2 = 0;

	i_start = NEAR_LINE - gap; //防止镜头畸变影响
	i_end = FAR_LINE + 2 * gap;

	y2 = gap * gap;
	for (uint8_t i = i_start; i >= i_end; i--)
	{
		//计算左侧余弦值平方
		x1 = (int)x_left[i - gap] - (int)x_left[i];
		x2 = (int)x_left[i] - (int)x_left[i + gap];
		cosL[i] = x1 * x2 + y2;
		cosL[i] *= cosL[i];
		cosL[i] = cosL[i] * 1000 / ((x1 * x1 + y2) * (x2 * x2 + y2));

		//计算右侧余弦值平方
		x1 = (int)x_right[i - gap] - (int)x_right[i];
		x2 = (int)x_right[i] - (int)x_right[i + gap];
		cosR[i] = x1 * x2 + y2;
		cosR[i] *= cosR[i];
		cosR[i] = cosR[i] * 1000 / ((x1 * x1 + y2) * (x2 * x2 + y2));
		//printf("%d 左：%d 右：%d\n", i, cosL[i], cosR[i]);
	}


	if (dir == 1)//左环岛
	{
		for (uint8_t i = i_start; i >= i_end; i--)
		{
			if (cosR[i] >= 800) cosflag++;
		}
		//if (cosflag > 90)
		//{
		//	circle_inf.direction = 1;
		//}
	}
	else if (dir == 2 )//右环岛
	{
		for (uint8_t i = i_start; i >= i_end; i--)
		{
			if (cosL[i] >= 800) cosflag++;
		}
		/*if (cosflag > 90)
		{
			circle_inf.direction = 2;
		}*/
	}


	if (cosflag <= 60)
	{
		printf("直道不直\n");
		return 0;
	}


	return 1;
}


bool tell_near_cross(void)
{
	//粗略找每行白条对应的赛道
	uint8_t i_start, i_end;
	i_start = NEAR_LINE;
	i_end = FAR_LINE;
	/*memset(my_road_num, MISS, 120);

	for (uint8_t i = i_start; i >= i_end; i--)
	{
		my_road_num[i] = define_my_way(i);
	}

	for (uint8_t i = i_start; i >= i_end; i--)
	{
		if (my_road_num[i] == 0)
		{
			x_left[i] = MISS;
			x_right[i] = MISS;
		}
		else
		{
			x_left[i] = my_road[i].connected[my_road_num[i]].left;
			x_right[i] = my_road[i].connected[my_road_num[i]].right;
		}

	}*/


	//1.标志量判断
	if (circle_stage_one_flag >= 2 || circle_stage_two_flag >= 2 || circle_stage_three_flag >= 2)
	{
		return 0;
	}
	/**********************************************************************************
	***********************************************************************************/
	for (uint8_t i = 113; i >= 1; i--)
	{
		if (my_road_num[i] == 0)
			return 0;
	}
	/**********************************************************************************
	**********************************************************************************/
	uint8_t long_white_flag = 0;
	for (uint8_t i = 113; i >= 45; i--)  //45调参
	{
		if (x_right[i] - x_left[i] >= 70)
		{
			long_white_flag++;
			//printf("i:%d width:%d\n",i,x_right[i]-x_left[i]);
		}

	}
	if (long_white_flag <= 10)
	{
		printf("近十字 长白条判断失败%d\n", long_white_flag);
		return 0;
	}


	/**********************************************************************************
	***********************************************************************************/
	//2020.2.28 修改 左右分开寻找
	uint8_t l_near_flag = 0;
	uint8_t r_near_flag = 0;
	uint8_t start_find = 113;
	for (uint8_t i = 113; i >= 70; i--)
	{
		if (x_left[i] - left_side[i] <= 8)
		{
			start_find = i;
			l_near_flag++;
		}
		if (right_side[i] - x_right[i] <= 8)
		{
			start_find = i;
			r_near_flag++;
		}
	}
	if (l_near_flag > 15 || r_near_flag > 15)
	{
		//start_find = i;

		//break;
	}
	if (l_near_flag <= 15 && r_near_flag <= 15)
	{

		return 0;
	}


	//uint8_t l_far_flag = 0, r_far_flag = 0;
	//if (l_near_flag > r_near_flag)
	//{
	//	for (uint8_t i = 60; i >= 40; i--)
	//	{
	//		if (x_left[i]-left_side[i]<=5)
	//		l_far_flag++;
	//	}
	//	if (l_far_flag >= 8)
	//		return 0;
	//}
	//else
	//{
	//	for (uint8_t i = 60; i >= 40; i--)
	//	{
	//		if (right_side[i] - x_right[i] <= 5)
	//		r_far_flag++;
	//	}
	//	if (r_far_flag >= 8)
	//		return 0;
	//}

/**********************************************************************************
***********************************************************************************/

//近十字找出口

	uint8_t l_exit, r_exit;
	uint8_t l_yuzhi, r_yuzhi;
	l_exit = MISS;
	r_exit = MISS;


	//目的：超大角度的近十字，阈值应该分开计算
	if (l_near_flag > r_near_flag)
	{
		l_yuzhi = 10;
		r_yuzhi = 20;
	}
	else
	{
		l_yuzhi = 20;
		r_yuzhi = 10;
	}
	for (uint8_t i = start_find; i >= FAR_LINE; i--)
	{
		if (x_left[i] - left_side[i] >= l_yuzhi &&
			x_left[i + gap] - left_side[i + gap] >= l_yuzhi &&
			x_left[i - gap] - left_side[i - gap] >= l_yuzhi &&
			my_road[i].connected[my_road_num[i]].width <= 50)
		{
			l_exit = i;
			break;
		}
	}
	for (uint8_t i = start_find; i >= 1; i--)
	{
		if (right_side[i] - x_right[i] >= r_yuzhi &&
			right_side[i + gap] - x_right[i + gap] >= r_yuzhi &&
			right_side[i - gap] - x_right[i - gap] >= r_yuzhi &&
			my_road[i].connected[my_road_num[i]].width <= 50)
		{
			r_exit = i;
			break;
		}
	}


	if ((r_exit <= 113 && r_exit >= 100) || (l_exit <= 113 && l_exit >= 100))
	{

		return 0;
	}

	cross_inf.l_entrance = l_exit;
	cross_inf.r_entrance = r_exit;
	cross_inf.cross_road_centre = MISS;

	return 1;
	/**********************************************************************************
	***********************************************************************************/

}


////////////////////////////////////////////
//功能：十字识别,顺便找标志点
//输入：
//输出：0 不是十字   1 是十字
//备注：
///////////////////////////////////////////
bool tell_cross(void)
{

	if (circle_stage_one_flag >= 2 || circle_stage_two_flag >= 2)
	{
		return 0;
	}

	//粗略找每行白条对应的赛道
	uint8_t i_start, i_end;
	i_start = NEAR_LINE;
	i_end = FAR_LINE;
	//	memset(my_road_num, MISS, 120);

		//for (uint8_t i = i_start; i >= i_end; i--)
		//{
		//	my_road_num[i] = define_my_way(i);
		//}
		//

		//for (uint8_t i = i_start; i >= i_end; i--)
		//{
		//	if (my_road_num[i] == 0)
		//	{
		//		x_left[i] = MISS;
		//		x_right[i] = MISS;
		//	}
		//	else
		//	{
		//		x_left[i] = my_road[i].connected[my_road_num[i]].left;
		//		x_right[i] = my_road[i].connected[my_road_num[i]].right;
		//	}

		//}





	/**********************************************************************************
	***********************************************************************************/

	//长白条赛道数至少大于7
	uint8_t long_white_num_flag = 0;
	uint8_t white_length = 0;
	uint8_t tmy_road_num = 0;
	for (uint8_t i = i_start; i >= i_end; i--)
	{
		tmy_road_num = my_road_num[i];
		if (tmy_road_num == 0)//如果一行内无白条，认为此行白条以上没有可用赛道
		{
			break;
		}
		else
		{
			white_length = my_road[i].connected[tmy_road_num].width;
			if (white_length >= 100)//(right_side[i] - left_side[i]) - white_length <= (right_side[i] - left_side[i])/10
			{
				long_white_num_flag++;
				//printf("%d,%d,%d,%d\n",i, right_side[i] , left_line[i], white_length);
			}
		}
	}
	if (long_white_num_flag <= 7)
	{

		return 0;
	}
	else
	{
		;
	}


	/**********************************************************************************
	***********************************************************************************/
	//不应有较多miss赛道 阈值设为5行

	uint8_t miss_flag = 0;
	i_start = 30;
	i_end = FAR_LINE;
	for (uint8_t i = i_start; i >= i_end; i--)
	{
		if (my_road_num[i] == 0)
		{
			miss_flag++;
		}
	}
	if (miss_flag >= 5)
	{

		return 0;
	}
	else
	{
		;
	}


	/**********************************************************************************
	***********************************************************************************/
	//寻找十字中心
	uint8_t cross_centre = 113;
	uint8_t max_road = 0, max_road_num;
	road* tmy_road = NULL;
	i_start = NEAR_LINE;
	i_end = FAR_LINE;
	for (uint8_t i = i_start; i >= i_end; i--)
	{
		tmy_road = &my_road[i];
		tmy_road_num = my_road_num[i];
		if (tmy_road->connected[tmy_road_num].width >= max_road)
		{
			max_road = tmy_road->connected[tmy_road_num].width;
			max_road_num = i;
		}
	}
	cross_centre = max_road_num;

	////调试用

	//for (uint8_t j = x_left[cross_centre]; j <= x_right[cross_centre]; j++)
	//{
	//	IMG[cross_centre][j] = red;
	//}


/**********************************************************************************
***********************************************************************************/
//左右赛道求cos值平方

	int cosL[CAMERA_H] = { 0 };//余弦的平方左 扩大1000倍
	int cosR[CAMERA_H] = { 0 };//余弦的平方右 扩大1000倍
	int x1 = 0;
	int x2 = 0;
	int y2 = 0;

	i_start = NEAR_LINE - gap; //防止镜头畸变影响
	i_end = cross_centre;

	y2 = gap * gap;
	for (uint8_t i = i_start; i >= i_end; i--)
	{
		//计算左侧余弦值平方
		x1 = (int)x_left[i - gap] - (int)x_left[i];
		x2 = (int)x_left[i] - (int)x_left[i + gap];
		cosL[i] = x1 * x2 + y2;
		cosL[i] *= cosL[i];
		cosL[i] = cosL[i] * 1000 / ((x1 * x1 + y2) * (x2 * x2 + y2));


		//计算右侧余弦值平方
		x1 = (int)x_right[i - gap] - (int)x_right[i];
		x2 = (int)x_right[i] - (int)x_right[i + gap];
		cosR[i] = x1 * x2 + y2;
		cosR[i] *= cosR[i];
		cosR[i] = cosR[i] * 1000 / ((x1 * x1 + y2) * (x2 * x2 + y2));

		//	printf("行数：%d 左余弦：%d 右余弦：%d\n",i, cosL[i], cosR[i]);
	}



	/**********************************************************************************
	***********************************************************************************/
	//余弦值平方找十字入口
	uint8_t l_enter = MISS, r_enter = MISS;

	i_start = NEAR_LINE - 2 * gap; //防止镜头畸变影响
	i_end = cross_centre;

	for (uint8_t i = i_start; i >= i_end; i--)
	{
		if (cosL[i] <= 400 && cosL[i] >= 0)
		{
			l_enter = i;
			break;
		}

	}
	for (uint8_t i = i_start; i >= i_end; i--)
	{
		if (cosR[i] <= 400 && cosR[i] >= 0)
		{
			r_enter = i;
			break;
		}

	}

	if (l_enter == MISS)
	{

		return 0;
	}
	if (r_enter == MISS)
	{

		return 0;
	}


	/**********************************************************************************
	***********************************************************************************/
	if (abs(l_enter - r_enter) >= 40)
	{

		return 0;
	}


	/**********************************************************************************
	***********************************************************************************/

	if (cross_centre > l_enter || cross_centre > r_enter)
	{
		return 0;
	}


	/**********************************************************************************
	***********************************************************************************/
	cross_inf.cross_road_centre = cross_centre;
	cross_inf.l_entrance = l_enter;
	cross_inf.r_entrance = r_enter;

	return 1;
}


//////////////////////////////////////////////
////功能：大角度弯道修正
////输入：
////输出：
////备注：
/////////////////////////////////////////////
void roof(void)
{
	uint8_t i, i_start, i_end;
	uint8_t my_roof = MISS, Ldir = 0, Rdir = 0;
	uint8_t max_width = 0, max_width_num = 0;
	for (i = 1; i <= 100; i++)
	{
		if (x_left[i] != MISS)
		{
			my_roof = i;
			//printf("my_roof:%d\n",i);
			break;
		}
	}
	if (my_roof == 1) return;


	for (i = my_roof; i <= 100; i++)
	{
		if (x_left[i] <= left_side[i] + 3 && Ldir==0)
		{
			Ldir = i;
		}
		else if (x_right[i] >= right_side[i] - 3 && Rdir == 0)
		{
			Rdir = i;
		}
	}


	//printf("L:%d R:%d\n", Ldir, Rdir);

	if (Ldir && Rdir == 0)//左转
	{
		for (i = Ldir; i >= my_roof; i--)
		{
			left_line[i] = MISS;

		}
		/*for (i = Ldir; i >= my_roof; i--)
		right_line[i] = MISS;*/
	}
	else if (Ldir == 0 && Rdir)
	{
		for (i = Rdir; i >= my_roof; i--)
		{
			//left_line[i] = MISS;
			right_line[i] = MISS;
		}
	}
	else
		return;
}

void Image_Copy(img_t* src)
{
	uint16_t height;
	uint16_t width;
	height = src->height;
	width = src->width;
	uint8_t* capture_buffer = pvPortMalloc(height * width);
	if (src->format == PixelFormatGray)
	{
		uint8_t* p = src->pImg;
		for (uint32_t i = 0; i < height; i += 1)
		{
			for (uint32_t j = 0; j < width; j += 1)
			{
				capture_buffer[i * width + j] = p[i * src->width + j];
				image_Buffer_0[i][j] = capture_buffer[i * width + j];
			}
		}
	}
}

void Image_Main(img_t* src)
{

	if (kStatus_Success == CAMERA_FullBufferGet(&src->pImg))
				{
					Image_Copy(&src);
					THRE(image_Buffer_0, img_original);//image_Proc
					map();
					IMAGE_PROC_Main(image_Proc);
					CAMERA_SubmitBuff(src->pImg); //将空缓存提交
				}
}
